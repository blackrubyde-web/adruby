import{r as y,j as e,X as K,aO as Q,bo as is,M as ls,bv as os,aa as ds,n as cs,e as Fe,bc as Ee,bw as ce,aE as se,bx as Oe,a6 as U,aG as O,aV as W,D as me,aN as We,by as Be,aD as Ve,aU as re,bz as ms,a7 as X,aX as xs,aw as ve,av as Ne,aZ as _e,a_ as we,au as Ge,k as Y,b5 as us,bA as Ke,aC as ye,bB as hs,bC as gs,bD as fs,a4 as xe,aQ as ps,bE as ue,a9 as Se,aP as bs,bF as js}from"./vendor-react-BtVdps6C.js";import{u as fe}from"./index-BgLObszc.js";import{R as pe,L as vs,C as Ue,X as He,Y as he,T as Je,b as Ns,c as q,P as ws,d as ys,e as Ss,A as ks,a as ke}from"./vendor-charts-KPNNdnYR.js";import{c as H,B as L,P as Ce,h as Cs,L as _,I as te}from"./creative-C4rWjoa1.js";import{f as E}from"./vendor-Cwcl6ryW.js";import{R as As}from"./vendor-layout-D2aCEpl9.js";import{P as zs}from"./PageShell-BcTt0uJw.js";import{H as Ds}from"./HeroHeader-D_79mwMf.js";import{C as D}from"./Card-BkrgSx6M.js";import{C as ae}from"./Chip-BZQq5WZ-.js";import{u as Is}from"./useAnalyticsData-CRP3Fo9k.js";import"./vendor-radix-BA32w1ww.js";import"./vendor-supabase-CX3WxO18.js";import"./apiClient-Xod5JFW7.js";function Rs({sections:n,onToggleSection:a,onResetToDefaults:s}){const[c,i]=y.useState(!1),m={essential:{label:"Essential Metrics",color:"text-green-500"},analytics:{label:"Analytics & Insights",color:"text-blue-500"},advanced:{label:"Advanced Features",color:"text-purple-500"}},x=n.filter(u=>u.isVisible).length,f=c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] animate-in fade-in duration-300",onClick:()=>i(!1)}),e.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[95%] max-w-3xl max-h-[90vh] bg-card border border-border rounded-2xl shadow-2xl z-[101] animate-in fade-in zoom-in-95 duration-300 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border bg-card/95 backdrop-blur-xl",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground mb-1",children:"Customize Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Show or hide sections based on your needs"})]}),e.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(K,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsx("div",{className:"p-6 max-h-[calc(90vh-180px)] overflow-y-auto",children:Object.entries(m).map(([u,{label:p,color:l}])=>{const k=n.filter(h=>h.category===u);return k.length===0?null:e.jsxs("div",{className:"mb-6 last:mb-0",children:[e.jsxs("h3",{className:`text-sm font-medium ${l} mb-3 flex items-center gap-2`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${l.replace("text-","bg-")}`}),p]}),e.jsx("div",{className:"space-y-2",children:k.map(h=>e.jsx("div",{className:`p-4 rounded-lg border transition-all duration-300 ${h.isVisible?"bg-primary/5 border-primary/30":"bg-muted/30 border-border"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{onClick:()=>a(h.id),className:`relative w-12 h-6 rounded-full transition-colors ${h.isVisible?"bg-primary":"bg-border"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${h.isVisible?"translate-x-7":"translate-x-1"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.isVisible?e.jsx(Q,{className:"w-4 h-4 text-primary"}):e.jsx(is,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("h4",{className:"font-medium text-foreground",children:h.name})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:h.description})]})]})},h.id))})]},u)})}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-border bg-card/95 backdrop-blur-xl",children:[e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(ls,{className:"w-4 h-4"}),"Reset to Defaults"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[x," sections visible"]}),e.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Done"})]})]})]})]}):null;return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-card border border-border rounded-lg hover:border-primary/50 transition-all hover:scale-105",children:[e.jsx(ds,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:"Customize Dashboard"}),e.jsxs("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full",children:[x,"/",n.length]})]}),typeof document<"u"&&os.createPortal(f,document.body)]})}function $s({id:n,index:a,totalCount:s,children:c,onMoveUp:i,onMoveDown:m,className:x=""}){const f=a===0,u=a===s-1;return e.jsxs("div",{className:`${x} relative group`,children:[e.jsxs("div",{className:"hidden md:flex absolute top-3 right-3 z-10 flex-col gap-1 opacity-0 group-hover:opacity-100 transition-all duration-300",children:[e.jsx("button",{onClick:()=>i(a),disabled:f,className:`
            p-2 bg-card/90 backdrop-blur-sm border border-border/50 rounded-lg
            hover:bg-card hover:border-primary/50 hover:scale-110
            active:scale-95
            shadow-lg
            transition-all duration-200
            ${f?"opacity-30 cursor-not-allowed":"cursor-pointer"}
          `,title:f?"Already at top":"Move up",children:e.jsx(cs,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx("button",{onClick:()=>m(a),disabled:u,className:`
            p-2 bg-card/90 backdrop-blur-sm border border-border/50 rounded-lg
            hover:bg-card hover:border-primary/50 hover:scale-110
            active:scale-95
            shadow-lg
            transition-all duration-200
            ${u?"opacity-30 cursor-not-allowed":"cursor-pointer"}
          `,title:u?"Already at bottom":"Move down",children:e.jsx(Fe,{className:"w-4 h-4 text-muted-foreground"})})]}),c]})}function Ts({onRangeChange:n,onCompareToggle:a}){var k;const[s,c]=y.useState("7d"),[i,m]=y.useState(!1),[x,f]=y.useState(!1),u=[{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"},{value:"custom",label:"Custom range"}],p=h=>{c(h),n(h),f(!1)},l=()=>{const h=!i;m(h),a(h)};return e.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:flex-initial",children:[e.jsxs("button",{onClick:()=>f(!x),className:"w-full flex items-center gap-2 px-3 md:px-4 py-2 bg-card border border-border rounded-lg hover:border-primary/50 transition-all text-left",children:[e.jsx(Ee,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),e.jsx("span",{className:"text-sm text-foreground flex-1 truncate",children:(k=u.find(h=>h.value===s))==null?void 0:k.label}),e.jsx(Fe,{className:`w-4 h-4 text-muted-foreground transition-transform flex-shrink-0 ${x?"rotate-180":""}`})]}),x&&e.jsx("div",{className:"absolute top-full mt-2 w-full md:w-48 bg-card border border-border rounded-lg shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:u.map(h=>e.jsx("button",{onClick:()=>p(h.value),className:`w-full px-4 py-2 text-left text-sm hover:bg-primary/10 transition-colors ${s===h.value?"bg-primary/10 text-primary":"text-foreground"}`,children:h.label},h.value))})]}),e.jsxs("button",{onClick:l,className:`flex items-center gap-2 px-3 md:px-4 py-2 rounded-lg border transition-all ${i?"bg-primary/10 border-primary/50 text-primary":"bg-card border-border text-muted-foreground hover:border-primary/50"}`,children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center transition-colors flex-shrink-0 ${i?"bg-primary border-primary":"border-border"}`,children:i&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-xs md:text-sm truncate",children:"Compare to previous"})]})]})}function Ls(){const[n,a]=y.useState([{id:"1",type:"warning",title:"Budget Alert",message:"Campaign #7305 has reached 90% of allocated budget"},{id:"2",type:"error",title:"Performance Drop",message:"CTR decreased by 20% in the last 24 hours for Age 45+ audience"}]),s=m=>{a(n.filter(x=>x.id!==m))},c=m=>{switch(m){case"warning":return e.jsx(Oe,{className:"w-5 h-5"});case"error":return e.jsx(se,{className:"w-5 h-5"});case"info":return e.jsx(ce,{className:"w-5 h-5"});default:return e.jsx(ce,{className:"w-5 h-5"})}},i=m=>{switch(m){case"warning":return{container:"bg-card border-yellow-500/20",icon:"text-yellow-600 dark:text-yellow-500",title:"text-foreground"};case"error":return{container:"bg-card border-red-500/20",icon:"text-red-600 dark:text-red-500",title:"text-foreground"};case"info":return{container:"bg-card border-blue-500/20",icon:"text-blue-600 dark:text-blue-500",title:"text-foreground"};default:return{container:"bg-card border-border",icon:"text-muted-foreground",title:"text-foreground"}}};return n.length===0?null:e.jsx("div",{className:"space-y-3",children:n.map(m=>{const x=i(m.type);return e.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-lg border ${x.container} transition-colors hover:border-border/80 animate-in slide-in-from-top-2 duration-300`,children:[e.jsx("div",{className:`mt-0.5 flex-shrink-0 ${x.icon}`,children:c(m.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`font-semibold text-sm mb-1 ${x.title}`,children:m.title}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:m.message})]}),e.jsx("button",{onClick:()=>s(m.id),className:"p-1 hover:bg-muted rounded transition-colors flex-shrink-0","aria-label":"Dismiss notification",children:e.jsx(K,{className:"w-4 h-4 text-muted-foreground"})})]},m.id)})})}function Ye(){const[n,a]=y.useState(0),s=87,c=[{label:"CTR Performance",score:92,weight:25},{label:"ROAS Efficiency",score:95,weight:30},{label:"Budget Utilization",score:78,weight:20},{label:"Audience Engagement",score:85,weight:25}];y.useEffect(()=>{const k=s/60;let h=0;const b=setInterval(()=>{h+=k,h>=s?(a(s),clearInterval(b)):a(Math.floor(h))},2e3/60);return()=>clearInterval(b)},[]);const i=p=>p>=80?"text-green-600 dark:text-green-500":p>=60?"text-yellow-600 dark:text-yellow-500":"text-red-600 dark:text-red-500",m=p=>"#10b981",x=p=>p>=80?"bg-green-500/20":p>=60?"bg-yellow-500/20":"bg-red-500/20",f=2*Math.PI*70,u=f-n/100*f;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(U,{className:"w-5 h-5 text-muted-foreground/50"}),e.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Performance Score"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"transform -rotate-90",width:"160",height:"160",children:[e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"10",fill:"none",className:"text-border"}),e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:m(),strokeWidth:"10",fill:"none",strokeDasharray:f,strokeDashoffset:u,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:`text-5xl font-bold ${i(s)}`,children:n}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"/ 100"}),e.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[e.jsx(O,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-500 font-medium",children:"+5 pts"})]})]})]})}),e.jsx("div",{className:"flex flex-col justify-center space-y-4",children:c.map((p,l)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:p.label}),e.jsx("span",{className:`text-sm font-semibold ${i(p.score)}`,children:p.score})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${x(p.score)} transition-all duration-1000 ease-out`,style:{width:`${p.score}%`}})})]},l))})]}),e.jsx("div",{className:"p-4 bg-muted border border-border rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-foreground leading-relaxed",children:[e.jsx("span",{className:"font-semibold text-green-600 dark:text-green-500",children:"Excellent performance."})," ","Your campaigns are outperforming industry benchmarks."]})]})})]})}function Xe(){const[c,i]=y.useState(0),m=1953.43/5e3*100,x=5e3-1953.43,f=Math.floor(x/278.35),u=m>=80;y.useEffect(()=>{const N=32.55716666666667;let w=0;const t=setInterval(()=>{w+=N,w>=1953.43?(i(1953.43),clearInterval(t)):i(w)},1500/60);return()=>clearInterval(t)},[1953.43]);const p=2*Math.PI*60,l=p-m/100*p;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-muted-foreground/50"}),e.jsx("h3",{className:"text-lg font-bold text-foreground",children:"Budget Tracker"})]}),u]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"transform -rotate-90",width:"140",height:"140",children:[e.jsx("circle",{cx:"70",cy:"70",r:"60",stroke:"currentColor",strokeWidth:"10",fill:"none",className:"text-border"}),e.jsx("circle",{cx:"70",cy:"70",r:"60",stroke:"#3b82f6",strokeWidth:"10",fill:"none",strokeDasharray:p,strokeDashoffset:l,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[m.toFixed(0),"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Used"})]})]})}),e.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Budget"}),e.jsxs("div",{className:"text-2xl font-bold text-foreground",children:["$",5e3.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Spent"}),e.jsxs("div",{className:"text-xl font-bold text-foreground",children:["$",c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Remaining"}),e.jsxs("div",{className:"text-xl font-bold text-green-600 dark:text-green-500",children:["$",x.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),e.jsx("div",{className:"p-4 bg-muted border border-border rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Daily Burn Rate"}),e.jsxs("div",{className:"text-lg font-bold text-foreground",children:["$",278.35.toFixed(2),"/day"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Projected End"}),e.jsxs("div",{className:"text-lg font-bold text-foreground",children:[f," days"]})]})]})}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full transition-all duration-1000 ease-out bg-blue-500/60",style:{width:`${m}%`}})})]})}function Qe(){const[n]=y.useState([{type:"success",title:"Peak Performance Detected",description:"Your Saturday campaigns are performing 42% better. Consider increasing weekend budget.",action:"Optimize Schedule"},{type:"warning",title:"CTR Decline Alert",description:"Age 45+ audience showing 15% CTR decrease. Creative refresh may be needed.",action:"Update Creatives"},{type:"info",title:"Budget Opportunity",description:"Campaign #7305 has 30% budget remaining with 2 days left. Consider reallocation.",action:"Redistribute Budget"}]),a=c=>{switch(c){case"success":return e.jsx(O,{className:"w-5 h-5 text-green-600 dark:text-green-500"});case"warning":return e.jsx(Ve,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500"});case"info":return e.jsx(Be,{className:"w-5 h-5 text-blue-600 dark:text-blue-500"});default:return e.jsx(me,{className:"w-5 h-5 text-muted-foreground"})}},s=c=>{switch(c){case"success":return"border-green-500/20";case"warning":return"border-yellow-500/20";case"info":return"border-blue-500/20";default:return"border-border"}};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[e.jsx(me,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-foreground",children:"AI Insights"}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground hidden md:block",children:"Smart recommendations for your campaigns"})]})]}),e.jsx("div",{className:"space-y-3 md:space-y-4",children:n.map((c,i)=>e.jsx("div",{className:`p-4 rounded-xl bg-card border-2 ${s(c.type)} transition-all hover:border-opacity-80 hover:shadow-lg`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a(c.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-foreground mb-1 text-sm md:text-base",children:c.title}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mb-3 leading-relaxed",children:c.description}),c.action&&e.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-lg transition-all text-xs md:text-sm font-medium hover:scale-105",children:[c.action,e.jsx(We,{className:"w-3.5 h-3.5"})]})]})]})},i))})]})}function ne(n){return Number.isFinite(n)?new Intl.NumberFormat("de-DE",{notation:"compact",maximumFractionDigits:1}).format(n):"—"}function Ms(n){return Number.isFinite(n)?new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(n):"—"}function Ps(n,a){const s=new Date(n);return a==="hour"?s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):s.toLocaleDateString([],{weekday:"short"})}function Fs(n){const a=n.filter(s=>Number.isFinite(s));return a.length?a.reduce((s,c)=>s+c,0)/a.length:null}function ie(n){const a=n.filter(s=>Number.isFinite(s));return a.length?a.reduce((s,c)=>s+c,0):null}function Ze({current:n=[],previous:a,compare:s=!1,granularity:c="day",loading:i=!1}){const{theme:m}=fe(),x=m==="dark",[f,u]=y.useState(!1);y.useEffect(()=>{var w;const b=window.matchMedia("(max-width: 639px)"),N=()=>u(b.matches);return N(),(w=b.addEventListener)==null||w.call(b,"change",N),()=>{var t;return(t=b.removeEventListener)==null?void 0:t.call(b,"change",N)}},[]);const p=y.useMemo(()=>{const b=(n==null?void 0:n.length)??0,N=a??[];return Array.from({length:b},(w,t)=>{const r=n[t]??{},o=N[t]??{};return{ts:r.ts??o.ts??"",label:r.ts?Ps(r.ts,c):"",impressions:r.impressions??null,impressions_prev:o.impressions??null,roas:r.roas??null,roas_prev:o.roas??null}})},[n,a,c]),l=y.useMemo(()=>{const b=ie((n??[]).map(r=>r.impressions??NaN)),N=Fs((n??[]).map(r=>r.ctr??NaN)),w=ie((n??[]).map(r=>r.spend??NaN)),t=ie((n??[]).map(r=>r.revenue??NaN));return{impressionsSum:b,ctrAvg:N,spendSum:w,revenueSum:t}},[n]),k=x?"#2a2a2a":"#e5e5e5",h=x?"#999999":"#666666";return e.jsxs("div",{className:"p-4 sm:p-6 w-full max-w-full overflow-hidden",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 min-w-0",children:[e.jsx("h3",{className:"font-semibold tracking-tight text-foreground mb-1 truncate",children:"Performance Trend"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground break-words",children:i?"Loading…":"Time range adapts to your filters"})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"p-4 sm:p-5 bg-muted/30 border border-border rounded-xl w-full min-w-0 overflow-hidden",children:[e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:"Total Impressions"}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground tabular-nums truncate",children:i?"…":l.impressionsSum==null?"—":ne(l.impressionsSum)}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"from selected range"})]}),e.jsxs("div",{className:"p-4 sm:p-5 bg-muted/30 border border-border rounded-xl w-full min-w-0 overflow-hidden",children:[e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:"Total Spend"}),e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground tabular-nums truncate",children:i?"…":l.spendSum==null?"—":Ms(l.spendSum)}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"from selected range"})]})]}),e.jsx("div",{className:"w-full min-w-0 max-w-full overflow-hidden",children:e.jsx(pe,{width:"100%",height:200,className:"sm:h-[250px]",children:e.jsxs(vs,{data:p,margin:{left:f?-20:0,right:f?0:10,top:10,bottom:0},children:[e.jsx(Ue,{strokeDasharray:"3 3",stroke:k}),e.jsx(He,{dataKey:"label",stroke:h,tick:{fontSize:11},interval:"preserveStartEnd",minTickGap:16}),!f&&e.jsx(he,{yAxisId:"left",stroke:h,tick:{fontSize:11},width:40,tickFormatter:b=>ne(Number(b))}),!f&&e.jsx(he,{yAxisId:"right",orientation:"right",stroke:h,tick:{fontSize:11},width:40,tickFormatter:b=>`${Number(b).toFixed(1)}x`}),e.jsx(Je,{labelFormatter:(b,N)=>{var w,t;return(t=(w=N==null?void 0:N[0])==null?void 0:w.payload)!=null&&t.ts?new Date(N[0].payload.ts).toLocaleString():""},formatter:(b,N)=>{const w=Array.isArray(b)?b[0]:b;return w==null?["—",String(N)]:String(N).includes("roas")?[`${Number(w).toFixed(2)}x`,String(N)]:String(N).includes("impressions")?[ne(Number(w)),String(N)]:[String(w),String(N)]},contentStyle:{backgroundColor:x?"#0a0a0a":"#ffffff",border:`1px solid ${x?"#2a2a2a":"#e5e5e5"}`,borderRadius:"8px",fontSize:"12px"}}),e.jsx(Ns,{wrapperStyle:{fontSize:"11px"}}),e.jsx(q,{yAxisId:"left",type:"monotone",dataKey:"impressions",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:"Impressions"}),e.jsx(q,{yAxisId:"right",type:"monotone",dataKey:"roas",stroke:"#10b981",strokeWidth:2,dot:!1,name:"ROAS"}),s&&e.jsxs(e.Fragment,{children:[e.jsx(q,{yAxisId:"left",type:"monotone",dataKey:"impressions_prev",stroke:"#93c5fd",strokeWidth:2,dot:!1,strokeDasharray:"6 6",name:"Impressions (prev)"}),e.jsx(q,{yAxisId:"right",type:"monotone",dataKey:"roas_prev",stroke:"#86efac",strokeWidth:2,dot:!1,strokeDasharray:"6 6",name:"ROAS (prev)"})]})]})})})]})}const le=[{name:"Age 18-24",value:30,color:"#8b5cf6"},{name:"Age 25-34",value:25,color:"#3b82f6"},{name:"Age 35-44",value:20,color:"#10b981"},{name:"Age 45+",value:25,color:"#f59e0b"}];function qe(){return e.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border",children:[e.jsx("h2",{className:"text-foreground mb-1",children:"Audience demographics"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Campaign #7305"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-2xl text-foreground mb-1",children:["$",2847632 .toLocaleString("en-US",{minimumFractionDigits:2})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total audience reach"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{width:"100%",height:200,children:e.jsx(ws,{children:e.jsx(ys,{data:le,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:le.map((a,s)=>e.jsx(Ss,{fill:a.color},`cell-${s}`))})})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-xl text-foreground",children:"$847K"})})})]}),e.jsx("div",{className:"mt-6 space-y-3",children:le.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),e.jsx("span",{className:"text-sm text-muted-foreground",children:a.name})]}),e.jsxs("span",{className:"text-sm text-foreground",children:[a.value,"%"]})]},s))})]})}function es(){const n=[{label:"Impressions",value:42e5,icon:e.jsx(Q,{className:"w-5 h-5"}),color:"#3b82f6"},{label:"Clicks",value:117600,icon:e.jsx(re,{className:"w-5 h-5"}),color:"#10b981"},{label:"Add to Cart",value:23520,icon:e.jsx(ms,{className:"w-5 h-5"}),color:"#f59e0b"},{label:"Purchases",value:4704,icon:e.jsx(W,{className:"w-5 h-5"}),color:"#8b5cf6"}],a=n[0].value,s=i=>{if(i===0)return null;const m=n[i].value,x=n[i-1].value;return((x-m)/x*100).toFixed(1)},c=i=>i===0?"100.0":(n[i].value/n[0].value*100).toFixed(2);return e.jsxs("div",{className:"bg-card rounded-xl p-4 sm:p-6 border border-border w-full max-w-full overflow-hidden",children:[e.jsxs("div",{className:"mb-6 min-w-0",children:[e.jsx("h2",{className:"text-foreground mb-1 truncate",children:"Conversion Funnel"}),e.jsx("p",{className:"text-sm text-muted-foreground break-words",children:"Track your customer journey"})]}),e.jsx("div",{className:"space-y-4",children:n.map((i,m)=>{const x=i.value/a*100,f=s(m),u=c(m);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 min-w-0 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 rounded-lg shrink-0",style:{backgroundColor:`${i.color}20`,color:i.color},children:i.icon}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-foreground truncate",children:i.label}),e.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:[i.value.toLocaleString()," users"]})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("div",{className:"text-sm font-semibold text-foreground tabular-nums",children:[u,"%"]}),f&&e.jsxs("div",{className:"text-xs text-red-500 tabular-nums",children:["-",f,"%"]})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-16 bg-border/30 rounded-lg overflow-hidden",children:e.jsx("div",{className:"h-full rounded-lg transition-all duration-1000 ease-out group-hover:brightness-110 relative overflow-hidden",style:{width:`${x}%`,background:`linear-gradient(135deg, ${i.color} 0%, ${i.color}cc 100%)`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})})})}),m<n.length-1&&e.jsx("div",{className:"flex justify-center my-2",children:e.jsx("svg",{className:"w-6 h-6 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]},m)})}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-500/10 to-transparent border border-purple-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Overall Conversion Rate"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-500",children:[(n[3].value/n[0].value*100).toFixed(2),"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Industry Average"}),e.jsx("div",{className:"text-lg font-medium text-muted-foreground",children:"0.08%"})]})]})})]})}const Ae=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ze=["12am","4am","8am","12pm","4pm","8pm"],Es=[[20,15,18,45,52,48,35],[12,10,14,38,45,42,28],[35,32,38,65,72,68,52],[58,55,62,85,92,88,75],[72,68,75,95,98,95,82],[65,62,68,88,92,90,78]];function ss(){const{theme:n}=fe(),a=n==="dark",s=i=>i>=90?"bg-green-500":i>=75?a?"bg-green-600":"bg-green-400":i>=60?a?"bg-yellow-500":"bg-yellow-400":i>=45?a?"bg-orange-500":"bg-orange-400":i>=30?a?"bg-red-500":"bg-red-400":a?"bg-red-600":"bg-red-500",c=i=>Math.max(.2,i/100);return e.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-foreground mb-1",children:"Performance Heatmap"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Best performing times to run ads"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"inline-block min-w-full",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-16"})," ",Ae.map(i=>e.jsx("div",{className:"flex-1 text-center",children:e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:i})},i))]}),Es.map((i,m)=>e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-16 pr-3 text-right",children:e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:ze[m]})}),i.map((x,f)=>e.jsx("div",{className:"flex-1 px-1",children:e.jsx("div",{className:`${s(x)} rounded-md transition-all duration-300 hover:scale-110 hover:shadow-lg cursor-pointer group relative`,style:{opacity:c(x),height:"36px"},children:e.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10",children:[Ae[f]," ",ze[m],": ",x,"% CTR"]})})},f))]},m))]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Performance Score"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Low"}),e.jsx("div",{className:"flex gap-1",children:[20,40,60,80,100].map(i=>e.jsx("div",{className:`w-6 h-4 rounded ${s(i)}`,style:{opacity:c(i)}},i))}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"High"})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-500/10 to-transparent border border-green-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsxs("span",{className:"text-sm text-foreground",children:[e.jsx("span",{className:"font-medium text-green-500",children:"Peak time:"})," Friday 4pm-8pm with 98% performance score"]})]})})]})}const Os=[{date:"Mon",actual:580},{date:"Tue",actual:620},{date:"Wed",actual:590},{date:"Thu",actual:650},{date:"Fri",actual:680},{date:"Sat",actual:700},{date:"Sun",actual:720}],Ws=[{date:"Sun",actual:720,forecast:null},{date:"Mon",actual:null,forecast:750},{date:"Tue",actual:null,forecast:780},{date:"Wed",actual:null,forecast:760},{date:"Thu",actual:null,forecast:800},{date:"Fri",actual:null,forecast:840},{date:"Sat",actual:null,forecast:870},{date:"Sun",actual:null,forecast:900}];function rs(){const{theme:n}=fe(),a=n==="dark",[s,c]=y.useState(window.innerWidth<640);y.useEffect(()=>{const m=()=>c(window.innerWidth<640);return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const i=[...Os,...Ws.slice(1)];return e.jsxs("div",{className:"bg-card rounded-xl p-4 sm:p-6 border border-border w-full max-w-full overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[e.jsx(X,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-foreground truncate",children:"7-Day Forecast"}),e.jsx("p",{className:"text-xs text-muted-foreground break-words",children:"AI-powered predictions based on current trends"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full border w-fit max-w-full overflow-hidden bg-purple-500/10 border-purple-500/20",children:[e.jsx(O,{className:"w-3 h-3 text-purple-500 shrink-0"}),e.jsx("span",{className:"text-xs text-purple-500 font-medium truncate",children:"+25% growth"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 rounded-lg border w-full min-w-0 overflow-hidden bg-gradient-to-br from-blue-500/10 to-transparent border-blue-500/20",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1 break-words",children:"Projected Impressions"}),e.jsx("div",{className:"text-2xl font-bold text-blue-500 tabular-nums truncate",children:"5.8M"}),e.jsx("div",{className:"text-xs text-green-500 mt-1 break-words",children:"+1.6M from current"})]}),e.jsxs("div",{className:"p-4 rounded-lg border w-full min-w-0 overflow-hidden bg-gradient-to-br from-green-500/10 to-transparent border-green-500/20",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1 break-words",children:"Expected Revenue"}),e.jsx("div",{className:"text-2xl font-bold text-green-500 tabular-nums truncate",children:"$36K"}),e.jsx("div",{className:"text-xs text-green-500 mt-1 break-words",children:"+$7.2K increase"})]}),e.jsxs("div",{className:"p-4 rounded-lg border w-full min-w-0 overflow-hidden bg-gradient-to-br from-purple-500/10 to-transparent border-purple-500/20",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1 break-words",children:"Forecasted ROAS"}),e.jsx("div",{className:"text-2xl font-bold text-purple-500 tabular-nums truncate",children:"5.2x"}),e.jsx("div",{className:"text-xs text-green-500 mt-1 break-words",children:"+0.4x improvement"})]})]}),e.jsx("div",{className:"w-full min-w-0 max-w-full overflow-hidden",children:e.jsx(pe,{width:"100%",height:200,children:e.jsxs(ks,{data:i,margin:{left:s?-20:0,right:0,top:10,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"actualGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"forecastGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})]}),e.jsx(Ue,{strokeDasharray:"3 3",stroke:a?"#2a2a2a":"#e5e5e5"}),e.jsx(He,{dataKey:"date",stroke:a?"#999999":"#666666",tick:{fontSize:11},interval:"preserveStartEnd",minTickGap:16}),!s&&e.jsx(he,{stroke:a?"#999999":"#666666",tick:{fontSize:11},width:32}),e.jsx(Je,{contentStyle:{backgroundColor:a?"#0a0a0a":"#ffffff",border:`1px solid ${a?"#2a2a2a":"#e5e5e5"}`,borderRadius:"8px",color:a?"#ffffff":"#000000",fontSize:"12px"}}),e.jsx(ke,{type:"monotone",dataKey:"actual",stroke:"#3b82f6",strokeWidth:2,fill:"url(#actualGradient)",name:"Actual"}),e.jsx(ke,{type:"monotone",dataKey:"forecast",stroke:"#8b5cf6",strokeWidth:2,strokeDasharray:"5 5",fill:"url(#forecastGradient)",name:"Forecast"})]})})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 shrink-0"}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:"Historical Data"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 shrink-0"}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:"AI Forecast"})]})]}),e.jsxs("div",{className:"mt-4 p-3 rounded-lg border border-border bg-gradient-to-r from-primary/5 to-transparent w-full max-w-full overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Forecast Confidence"}),e.jsx("span",{className:"text-xs font-medium text-green-500",children:"92%"})]}),e.jsx("div",{className:"h-1.5 bg-border rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500",style:{width:"92%"}})})]})]})}const Bs=[{type:"success",title:"High-Performing Audience Segment",description:"Age 25-34 demographic is showing 42% higher engagement than other segments. Consider allocating more budget to this audience.",impact:"Potential +$2,400 monthly revenue"},{type:"optimization",title:"Ad Creative Refresh Recommended",description:"Your top-performing ad creative has been running for 18 days. Engagement typically drops after 21 days. Prepare new creative assets.",impact:"Maintain current 4.8x ROAS"},{type:"opportunity",title:"Lookalike Audience Opportunity",description:"Based on your converters, we identified a lookalike audience of 2.3M users with similar characteristics.",impact:"Estimated reach: 2.3M users"},{type:"warning",title:"Budget Pacing Alert",description:"Campaign #7305 is spending 23% faster than planned. Current pace will exhaust budget in 4 days instead of 7.",impact:"Action required within 24h"}];function ts(){const n=s=>{switch(s){case"success":return e.jsx(O,{className:"w-5 h-5 text-green-600 dark:text-green-500"});case"optimization":return e.jsx(Be,{className:"w-5 h-5 text-blue-600 dark:text-blue-500"});case"opportunity":return e.jsx(X,{className:"w-5 h-5 text-purple-600 dark:text-purple-500"});case"warning":return e.jsx(Ve,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500"})}},a=s=>{switch(s){case"success":return"border-green-500/20";case"optimization":return"border-blue-500/20";case"opportunity":return"border-purple-500/20";case"warning":return"border-yellow-500/20"}};return e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:"AI Strategy Insights"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Powered by machine learning analysis"}),e.jsx("div",{className:"space-y-4",children:Bs.map((s,c)=>e.jsx("div",{className:`p-4 bg-card border ${a(s.type)} rounded-lg transition-colors hover:border-border/80`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-foreground font-semibold mb-2 text-sm",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 leading-relaxed",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:s.impact}),e.jsx("button",{className:"text-sm text-foreground hover:text-foreground/80 font-medium transition-colors whitespace-nowrap",children:"View Details →"})]})]})]})},c))})]})}function Vs({className:n,...a}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:H("w-full caption-bottom text-sm",n),...a})})}function _s({className:n,...a}){return e.jsx("thead",{"data-slot":"table-header",className:H("[&_tr]:border-b",n),...a})}function Gs({className:n,...a}){return e.jsx("tbody",{"data-slot":"table-body",className:H("[&_tr:last-child]:border-0",n),...a})}function De({className:n,...a}){return e.jsx("tr",{"data-slot":"table-row",className:H("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...a})}function M({className:n,...a}){return e.jsx("th",{"data-slot":"table-head",className:H("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...a})}function P({className:n,...a}){return e.jsx("td",{"data-slot":"table-cell",className:H("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...a})}function Ks({data:n,color:a="#3b82f6",height:s=24}){if(n.length===0)return null;const c=Math.max(...n),i=Math.min(...n),m=c-i,x=n.map((f,u)=>{const p=u/(n.length-1)*100,l=m===0?50:(c-f)/m*100;return`${p},${l}`}).join(" ");return e.jsx("svg",{width:"100%",height:s,viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"opacity-50",children:e.jsx("polyline",{points:x,fill:"none",stroke:a,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})}const Us=[{id:"7305",name:"Summer Sale Campaign",date:"15 Dec 2024",time:"10:32 PM",progress:88,status:"live",adSpend:"$2,500.00",impressions:"1.2M",clicks:"45K",conversions:"3.2K",roas:"4.8x",sparklineData:[580,620,590,650,680,700,720],tags:["High ROI","Q4"]},{id:"7304",name:"Holiday Special",date:"14 Dec 2024",time:"03:24 PM",progress:93,status:"live",adSpend:"$3,200.00",impressions:"980K",clicks:"38K",conversions:"2.9K",roas:"3.9x",sparklineData:[520,580,600,620,590,610,630],tags:["Testing"]},{id:"7303",name:"Black Friday Blast",date:"12 Dec 2024",time:"08:45 AM",progress:100,status:"completed",adSpend:"$1,800.00",impressions:"1.5M",clicks:"52K",conversions:"4.1K",roas:"5.2x",sparklineData:[600,700,800,900,950,1e3,1100],tags:["High ROI"]},{id:"7302",name:"Product Launch",date:"10 Dec 2024",time:"02:15 PM",progress:75,status:"paused",adSpend:"$2,100.00",impressions:"890K",clicks:"31K",conversions:"2.5K",roas:"3.5x",sparklineData:[450,480,460,470,490,480,475],tags:[]},{id:"7301",name:"New Year Preview",date:"20 Dec 2024",time:"12:00 AM",progress:0,status:"scheduled",adSpend:"$0.00",impressions:"0",clicks:"0",conversions:"0",roas:"0x",sparklineData:[],tags:["Scheduled"]}];function as({campaigns:n}){const[a,s]=y.useState([]),[c,i]=y.useState(""),[m,x]=y.useState("all"),f=new Date,u=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t),p=t=>new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(t),l=(n||[]).map(t=>{const r=t.spend??0;return{id:t.id,name:t.name,date:f.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"}),time:f.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),progress:Math.min(100,Math.max(0,Math.round((t.roas??0)*12))),status:t.status==="ended"?"completed":t.status==="active"?"live":"paused",adSpend:u(r),impressions:p(t.impressions??0),clicks:p(t.clicks??0),conversions:p(t.conversions??0),roas:`${(t.roas??0).toFixed(2)}x`,sparklineData:t.roas?[t.roas*.8,t.roas,t.roas*1.1]:[],tags:t.roas&&t.roas>=3?["High ROI"]:[]}}),k=l.length?l:Us,h=t=>{s(t?k.map(r=>r.id):[])},b=(t,r)=>{s(r?[...a,t]:a.filter(o=>o!==t))},N=t=>{const r={live:"bg-green-500/20 text-green-500 border-green-500/50",paused:"bg-yellow-500/20 text-yellow-500 border-yellow-500/50",scheduled:"bg-blue-500/20 text-blue-500 border-blue-500/50",completed:"bg-gray-500/20 text-gray-500 border-gray-500/50"},o={live:"● ",paused:"❚❚ ",scheduled:"◷ ",completed:"✓ "};return e.jsxs(Cs,{className:`${r[t]} border`,children:[o[t],t.toUpperCase()]})},w=k.filter(t=>{const r=t.name.toLowerCase().includes(c.toLowerCase())||t.id.includes(c),o=m==="all"||t.status===m;return r&&o});return e.jsxs("div",{className:"bg-card rounded-xl p-0 border border-border",children:[e.jsx("div",{className:"p-3 md:p-6 flex flex-col md:flex-row md:items-center justify-between gap-2",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-foreground mb-1 text-base md:text-lg",children:"Campaign Management"}),e.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground",children:["Showing ",w.length," of ",k.length," campaigns"]})]})}),e.jsxs("div",{className:"px-3 md:px-6 flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search campaigns...",value:c,onChange:t=>i(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:border-primary/50 transition-colors text-sm"})]}),e.jsxs("select",{value:m,onChange:t=>x(t.target.value),className:"px-3 md:px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:border-primary/50 transition-colors text-sm w-full md:w-auto",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),a.length>0&&e.jsxs("div",{className:"mx-3 md:mx-6 mb-4 p-3 md:p-4 bg-primary/10 border border-primary/30 rounded-lg flex items-center justify-between animate-in slide-in-from-top-2 duration-200",children:[e.jsxs("span",{className:"text-xs md:text-sm text-foreground font-medium",children:[a.length," campaign",a.length>1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{size:"sm",variant:"outline",className:"bg-card hidden md:flex",children:[e.jsx(ve,{className:"w-4 h-4 mr-1"}),"Resume"]}),e.jsxs(L,{size:"sm",variant:"outline",className:"bg-card hidden md:flex",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Pause"]}),e.jsxs(L,{size:"sm",variant:"outline",className:"bg-card text-red-500 hover:text-red-600",children:[e.jsx(_e,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsx("div",{className:"min-w-[900px]",children:e.jsxs(Vs,{children:[e.jsx(_s,{children:e.jsxs(De,{className:"border-border hover:bg-muted",children:[e.jsx(M,{className:"w-12",children:e.jsx("input",{type:"checkbox",checked:a.length===k.length,onChange:t=>h(t.target.checked),className:"w-4 h-4 rounded border-border"})}),e.jsx(M,{className:"text-muted-foreground",children:"Campaign"}),e.jsx(M,{className:"text-muted-foreground",children:"Status"}),e.jsx(M,{className:"text-muted-foreground",children:"Trend"}),e.jsx(M,{className:"text-muted-foreground",children:"Progress"}),e.jsx(M,{className:"text-muted-foreground",children:"Ad Spend"}),e.jsx(M,{className:"text-muted-foreground",children:"Impressions"}),e.jsx(M,{className:"text-muted-foreground",children:"Clicks"}),e.jsx(M,{className:"text-muted-foreground",children:"Conv."}),e.jsx(M,{className:"text-muted-foreground",children:"ROAS"}),e.jsx(M,{className:"text-muted-foreground",children:"Actions"})]})}),e.jsx(Gs,{children:w.map(t=>e.jsxs(De,{className:"border-border hover:bg-muted group",children:[e.jsx(P,{children:e.jsx("input",{type:"checkbox",checked:a.includes(t.id),onChange:r=>b(t.id,r.target.checked),className:"w-4 h-4 rounded border-border"})}),e.jsxs(P,{children:[e.jsxs("div",{className:"text-foreground font-medium",children:["#",t.id]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.name}),e.jsx("div",{className:"flex items-center gap-1 mt-1",children:t.tags.map((r,o)=>e.jsx("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full",children:r},o))})]}),e.jsxs(P,{children:[N(t.status),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t.date})]}),e.jsx(P,{children:e.jsx("div",{className:"w-24",children:t.sparklineData.length>0&&e.jsx(Ks,{data:t.sparklineData,color:"#3b82f6"})})}),e.jsx(P,{children:e.jsxs("div",{className:"w-24",children:[e.jsx(Ce,{value:t.progress,className:"h-2"}),e.jsxs("span",{className:"text-xs text-muted-foreground mt-1",children:[t.progress,"%"]})]})}),e.jsx(P,{className:"text-foreground font-medium",children:t.adSpend}),e.jsx(P,{className:"text-blue-500",children:t.impressions}),e.jsx(P,{className:"text-green-500",children:t.clicks}),e.jsx(P,{className:"text-orange-500",children:t.conversions}),e.jsx(P,{className:"text-purple-500 font-medium",children:t.roas}),e.jsx(P,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",className:"bg-card border-border text-foreground hover:bg-muted",children:"View"}),e.jsx(L,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100",children:e.jsx(we,{className:"w-4 h-4"})})]})})]},t.id))})]})})}),e.jsx("div",{className:"md:hidden space-y-3",children:w.map(t=>e.jsxs("div",{className:"rounded-xl border border-border p-4 bg-card w-full min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 min-w-0",children:[e.jsx("input",{type:"checkbox",checked:a.includes(t.id),onChange:r=>b(t.id,r.target.checked),className:"w-4 h-4 rounded border-border mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["#",t.id]}),N(t.status)]}),e.jsx("h4",{className:"font-semibold text-foreground truncate",children:t.name}),e.jsx("div",{className:"flex items-center gap-1 mt-1 flex-wrap",children:t.tags.map((r,o)=>e.jsx("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full",children:r},o))})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Progress"}),e.jsxs("span",{className:"text-xs font-semibold text-foreground",children:[t.progress,"%"]})]}),e.jsx(Ce,{value:t.progress,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground text-xs",children:"Spend"}),e.jsx("div",{className:"text-foreground font-medium tabular-nums truncate",children:t.adSpend})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground text-xs",children:"ROAS"}),e.jsx("div",{className:"text-purple-500 font-medium tabular-nums truncate",children:t.roas})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground text-xs",children:"Impressions"}),e.jsx("div",{className:"text-blue-500 tabular-nums truncate",children:t.impressions})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground text-xs",children:"Clicks"}),e.jsx("div",{className:"text-green-500 tabular-nums truncate",children:t.clicks})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground text-xs",children:"Conversions"}),e.jsx("div",{className:"text-orange-500 tabular-nums truncate",children:t.conversions})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground text-xs",children:"Date"}),e.jsx("div",{className:"text-foreground text-xs truncate",children:t.date})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-border",children:[e.jsx(L,{size:"sm",variant:"outline",className:"flex-1 bg-card border-border",children:"View"}),e.jsx(L,{size:"sm",variant:"outline",className:"flex-1 bg-card border-border",children:t.status==="live"?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-3 h-3 mr-1"}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"w-3 h-3 mr-1"}),"Resume"]})}),e.jsx(L,{size:"sm",variant:"ghost",children:e.jsx(we,{className:"w-4 h-4"})})]})]},t.id))})]})}function ee({title:n,value:a,subValue:s,percentage:c,isPositive:i,icon:m,tooltip:x}){const[f,u]=y.useState(!1);return e.jsx("div",{className:"relative bg-card border border-border rounded-lg p-5 transition-colors hover:border-border/80",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"text-muted-foreground/40 flex-shrink-0",children:m}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:n}),e.jsx("div",{className:"text-3xl font-bold text-foreground mb-2",children:a}),e.jsx("div",{className:"text-xs text-muted-foreground/70",children:s})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md ${i?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-red-500/10 text-red-600 dark:text-red-400"}`,children:[i?e.jsx(O,{className:"w-3 h-3"}):e.jsx(se,{className:"w-3 h-3"}),e.jsxs("span",{className:"text-xs font-medium",children:[i?"+":"",c,"%"]})]}),x&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"p-1 hover:bg-muted/50 rounded transition-colors",children:e.jsx(ce,{className:"w-4 h-4 text-muted-foreground/50"})}),f&&e.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 p-3 bg-card border border-border rounded-lg shadow-xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:x})})]})]})]})})}const Ie={ctr:{label:"CTR",icon:O,unit:"%",color:"text-blue-500"},cpc:{label:"CPC",icon:W,unit:"€",color:"text-green-500"},roas:{label:"ROAS",icon:O,unit:"x",color:"text-purple-500"},spend:{label:"Spend",icon:W,unit:"€",color:"text-orange-500"},conversions:{label:"Conversions",icon:Y,unit:"",color:"text-green-500"}},Re={pause_ad:{label:"Pause Ad",icon:Ke,color:"text-red-500"},increase_budget:{label:"Increase Budget",icon:O,color:"text-green-500"},decrease_budget:{label:"Decrease Budget",icon:se,color:"text-orange-500"},notify:{label:"Send Notification",icon:us,color:"text-blue-500"},switch_bidding:{label:"Switch Bidding Strategy",icon:U,color:"text-purple-500"}};function Hs(){var p,l,k,h,b,N,w,t;const[n,a]=y.useState([{id:"1",name:"Pause low-performing ads",trigger:{metric:"ctr",condition:"less_than",value:1,timeframe:"24h"},action:{type:"pause_ad"},isActive:!0,executionCount:12,lastTriggered:"2 hours ago",createdAt:"2024-12-10"},{id:"2",name:"Scale high ROAS campaigns",trigger:{metric:"roas",condition:"greater_than",value:10,timeframe:"24h"},action:{type:"increase_budget",value:20},isActive:!0,executionCount:5,lastTriggered:"5 hours ago",createdAt:"2024-12-12"},{id:"3",name:"Alert on high CPC",trigger:{metric:"cpc",condition:"greater_than",value:2,timeframe:"6h"},action:{type:"notify"},isActive:!1,executionCount:0,createdAt:"2024-12-15"}]),[s,c]=y.useState(!1),[i,m]=y.useState({name:"",trigger:{metric:"ctr",condition:"less_than",value:1,timeframe:"24h"},action:{type:"pause_ad"},isActive:!0}),x=r=>{a(S=>S.map(j=>j.id===r?{...j,isActive:!j.isActive}:j));const o=n.find(S=>S.id===r);E.success(`Rule "${o==null?void 0:o.name}" ${o!=null&&o.isActive?"deactivated":"activated"}`)},f=r=>{const o=n.find(S=>S.id===r);a(S=>S.filter(j=>j.id!==r)),E.success(`Rule "${o==null?void 0:o.name}" deleted`)},u=()=>{if(!i.name){E.error("Please enter a rule name");return}const r={id:Date.now().toString(),name:i.name,trigger:i.trigger,action:i.action,isActive:!0,executionCount:0,createdAt:new Date().toISOString().split("T")[0]};a(o=>[r,...o]),c(!1),m({name:"",trigger:{metric:"ctr",condition:"less_than",value:1,timeframe:"24h"},action:{type:"pause_ad"},isActive:!0}),E.success("🎉 Automated rule created successfully!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-1",children:"Automated Rules"}),e.jsx("p",{className:"text-muted-foreground",children:"Set up automatic actions based on campaign performance metrics"})]}),e.jsxs(L,{onClick:()=>c(!s),className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground hover:opacity-90",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Create Rule"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-transparent border border-border/30",children:[e.jsx("div",{className:"text-2xl text-foreground font-bold mb-1",children:n.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Rules"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-transparent border border-border/30",children:[e.jsx("div",{className:"text-2xl text-foreground font-bold mb-1",children:n.filter(r=>r.isActive).length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Rules"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-transparent border border-border/30",children:[e.jsx("div",{className:"text-2xl text-foreground font-bold mb-1",children:n.reduce((r,o)=>r+o.executionCount,0)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Executions"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-orange-500/10 to-transparent border border-border/30",children:[e.jsx("div",{className:"text-2xl text-foreground font-bold mb-1",children:n.filter(r=>r.executionCount>0).length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Triggered Rules"})]})]}),s&&e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Create New Rule"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground mb-2",children:"Rule Name"}),e.jsx(te,{value:i.name,onChange:r=>m(o=>({...o,name:r.target.value})),placeholder:"e.g., Pause low-performing ads",className:"bg-input border-border text-foreground"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground mb-2",children:"Metric"}),e.jsx("select",{value:(p=i.trigger)==null?void 0:p.metric,onChange:r=>m(o=>({...o,trigger:{...o.trigger,metric:r.target.value}})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground",children:Object.entries(Ie).map(([r,o])=>e.jsx("option",{value:r,children:o.label},r))})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground mb-2",children:"Condition"}),e.jsxs("select",{value:(l=i.trigger)==null?void 0:l.condition,onChange:r=>m(o=>({...o,trigger:{...o.trigger,condition:r.target.value}})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground",children:[e.jsx("option",{value:"greater_than",children:"Greater than"}),e.jsx("option",{value:"less_than",children:"Less than"}),e.jsx("option",{value:"equals",children:"Equals"})]})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground mb-2",children:"Value"}),e.jsx(te,{type:"number",value:(k=i.trigger)==null?void 0:k.value,onChange:r=>m(o=>({...o,trigger:{...o.trigger,value:parseFloat(r.target.value)}})),className:"bg-input border-border text-foreground"})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground mb-2",children:"Timeframe"}),e.jsxs("select",{value:(h=i.trigger)==null?void 0:h.timeframe,onChange:r=>m(o=>({...o,trigger:{...o.trigger,timeframe:r.target.value}})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground",children:[e.jsx("option",{value:"1h",children:"Last 1 hour"}),e.jsx("option",{value:"6h",children:"Last 6 hours"}),e.jsx("option",{value:"24h",children:"Last 24 hours"}),e.jsx("option",{value:"7d",children:"Last 7 days"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground mb-2",children:"Action"}),e.jsx("select",{value:(b=i.action)==null?void 0:b.type,onChange:r=>m(o=>({...o,action:{...o.action,type:r.target.value}})),className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground",children:Object.entries(Re).map(([r,o])=>e.jsx("option",{value:r,children:o.label},r))})]}),(((N=i.action)==null?void 0:N.type)==="increase_budget"||((w=i.action)==null?void 0:w.type)==="decrease_budget")&&e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground mb-2",children:"Percentage (%)"}),e.jsx(te,{type:"number",value:((t=i.action)==null?void 0:t.value)||20,onChange:r=>m(o=>({...o,action:{...o.action,value:parseFloat(r.target.value)}})),placeholder:"20",className:"bg-input border-border text-foreground"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsxs(L,{onClick:u,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Create Rule"]}),e.jsxs(L,{onClick:()=>c(!1),variant:"outline",className:"border-border text-foreground hover:bg-muted",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),e.jsx("div",{className:"space-y-3",children:n.length===0?e.jsxs("div",{className:"text-center py-12 bg-card border border-border rounded-xl",children:[e.jsx(U,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-muted-foreground mb-2",children:"No automated rules yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first rule to automate campaign management"})]}):n.map(r=>{const o=Ie[r.trigger.metric],S=Re[r.action.type],j=o.icon,A=S.icon;return e.jsx("div",{className:`bg-card border rounded-xl p-5 transition-all hover:shadow-lg ${r.isActive?"border-primary/30 bg-primary/5":"border-border"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:r.name}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${r.isActive?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:r.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-muted rounded-lg",children:[e.jsx(j,{className:`w-4 h-4 ${o.color}`}),e.jsx("span",{className:"text-foreground font-medium",children:o.label}),e.jsxs("span",{className:"text-muted-foreground",children:[r.trigger.condition.replace("_"," ")," ",r.trigger.value,o.unit]}),e.jsx(ye,{className:"w-3 h-3 text-muted-foreground ml-1"}),e.jsx("span",{className:"text-muted-foreground text-xs",children:r.trigger.timeframe})]}),e.jsx("span",{className:"text-muted-foreground",children:"→"}),e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-muted rounded-lg",children:[e.jsx(A,{className:`w-4 h-4 ${S.color}`}),e.jsx("span",{className:"text-foreground font-medium",children:S.label}),r.action.value&&e.jsxs("span",{className:"text-muted-foreground",children:["(",r.action.value,"%)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-3 h-3"}),e.jsxs("span",{children:["Executed ",r.executionCount," times"]})]}),r.lastTriggered&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"w-3 h-3"}),e.jsxs("span",{children:["Last triggered: ",r.lastTriggered]})]}),e.jsxs("div",{children:["Created: ",r.createdAt]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x(r.id),className:`p-2 rounded-lg transition-colors ${r.isActive?"bg-green-500/20 text-green-500 hover:bg-green-500/30":"bg-gray-500/20 text-gray-500 hover:bg-gray-500/30"}`,children:r.isActive?e.jsx(hs,{className:"w-4 h-4"}):e.jsx(Ke,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(gs,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx("button",{onClick:()=>f(r.id),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",children:e.jsx(_e,{className:"w-4 h-4 text-red-500"})})]})]})},r.id)})})]})}function Js({loading:n,data:a,isPreview:s,error:c}){return s?"preview":c?"error":n?"loading":a?"ready":"empty"}function Ys({title:n,subtitle:a,icon:s,state:c,error:i,emptyTitle:m="No data yet",emptyDescription:x="Connect your ad account or wait for data to appear.",emptyAction:f,headerAction:u,children:p,variant:l="default"}){return l==="stats"?e.jsx("div",{className:"h-full w-full rounded-3xl bg-card/60 backdrop-blur-xl border border-border/30 shadow-xl flex flex-col overflow-hidden",children:e.jsxs("div",{className:"flex-1 min-h-0 flex items-center justify-center p-5",children:[c==="loading"&&e.jsx(Te,{}),c==="error"&&e.jsx(Le,{message:i}),c==="empty"&&e.jsx($e,{title:m,description:x,action:f}),(c==="ready"||c==="preview")&&p]})}):e.jsxs("div",{className:"h-full w-full rounded-3xl bg-card/60 backdrop-blur-xl border border-border/30 shadow-xl flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-4 flex items-center justify-between border-b border-border/20 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.jsx("div",{className:"text-primary",children:s}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground",children:n}),a&&e.jsx("p",{className:"text-xs text-muted-foreground",children:a})]})]}),u]}),e.jsxs("div",{className:"flex-1 min-h-0 flex items-center justify-center p-5",children:[c==="loading"&&e.jsx(Te,{}),c==="error"&&e.jsx(Le,{message:i}),c==="empty"&&e.jsx($e,{title:m,description:x,action:f}),(c==="ready"||c==="preview")&&p]})]})}function $e({title:n="No data yet",description:a="Connect your ad account or wait for data to appear.",action:s}){return e.jsxs("div",{className:"text-center max-w-[240px]",children:[e.jsx("div",{className:"mb-3 text-4xl opacity-30",children:"📊"}),e.jsx("div",{className:"font-semibold text-foreground mb-2",children:n}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:a}),s]})}function Te(){return e.jsxs("div",{className:"w-full space-y-3 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted/40 rounded w-2/3"}),e.jsx("div",{className:"h-8 bg-muted/40 rounded w-1/2"}),e.jsx("div",{className:"h-24 bg-muted/30 rounded"})]})}function Le({message:n}){return e.jsxs("div",{className:"text-center max-w-[240px]",children:[e.jsx(Oe,{className:"w-8 h-8 text-red-500 mx-auto mb-3"}),e.jsx("div",{className:"text-sm text-red-500 font-medium mb-1",children:"Error Loading Data"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:n||"Something went wrong"})]})}const ge=[{id:"blue",name:"Blue",primary:"from-blue-500/20 via-blue-500/10",border:"border-blue-500/20",icon:"text-blue-400",bg:"bg-blue-500/20"},{id:"purple",name:"Purple",primary:"from-purple-500/20 via-purple-500/10",border:"border-purple-500/20",icon:"text-purple-400",bg:"bg-purple-500/20"},{id:"green",name:"Green",primary:"from-green-500/20 via-green-500/10",border:"border-green-500/20",icon:"text-green-400",bg:"bg-green-500/20"},{id:"orange",name:"Orange",primary:"from-orange-500/20 via-orange-500/10",border:"border-orange-500/20",icon:"text-orange-400",bg:"bg-orange-500/20"},{id:"pink",name:"Pink",primary:"from-pink-500/20 via-pink-500/10",border:"border-pink-500/20",icon:"text-pink-400",bg:"bg-pink-500/20"},{id:"teal",name:"Teal",primary:"from-teal-500/20 via-teal-500/10",border:"border-teal-500/20",icon:"text-teal-400",bg:"bg-teal-500/20"},{id:"red",name:"Red",primary:"from-red-500/20 via-red-500/10",border:"border-red-500/20",icon:"text-red-400",bg:"bg-red-500/20"},{id:"indigo",name:"Indigo",primary:"from-indigo-500/20 via-indigo-500/10",border:"border-indigo-500/20",icon:"text-indigo-400",bg:"bg-indigo-500/20"}],Xs=[{id:"minimal",name:"Minimal",description:"Clean and simple"},{id:"gradient",name:"Gradient",description:"Colorful gradients"},{id:"glass",name:"Glass",description:"Glassmorphism"},{id:"outlined",name:"Outlined",description:"Border focused"}],oe=[{id:"2x2",label:"Small",w:2,h:2},{id:"3x2",label:"Medium",w:3,h:2},{id:"4x2",label:"Wide",w:4,h:2},{id:"4x3",label:"Large",w:4,h:3},{id:"4x4",label:"XLarge",w:4,h:4}],J=[{id:"stat-impressions",name:"Impressions",description:"Total ad impressions with trend",category:"Stats",icon:e.jsx(Q,{className:"w-5 h-5"}),component:"stat",defaultSize:{w:2,h:2},availableSizes:["2x2","3x2"],supportsColors:!0,supportsDesigns:!0,minSize:{w:2,h:2},recommendedSize:{w:2,h:2}},{id:"stat-clicks",name:"Clicks",description:"Total clicks with percentage",category:"Stats",icon:e.jsx(re,{className:"w-5 h-5"}),component:"stat",defaultSize:{w:2,h:2},availableSizes:["2x2","3x2"],supportsColors:!0,supportsDesigns:!0,minSize:{w:2,h:2},recommendedSize:{w:2,h:2}},{id:"stat-ctr",name:"CTR",description:"Click-through rate metric",category:"Stats",icon:e.jsx(X,{className:"w-5 h-5"}),component:"stat",defaultSize:{w:2,h:2},availableSizes:["2x2","3x2"],supportsColors:!0,supportsDesigns:!0,minSize:{w:2,h:2},recommendedSize:{w:2,h:2}},{id:"stat-roas",name:"ROAS",description:"Return on ad spend",category:"Stats",icon:e.jsx(W,{className:"w-5 h-5"}),component:"stat",defaultSize:{w:2,h:2},availableSizes:["2x2","3x2"],supportsColors:!0,supportsDesigns:!0,minSize:{w:2,h:2},recommendedSize:{w:2,h:2}},{id:"performance-score",name:"Performance Score",description:"Overall campaign health score",category:"Performance",icon:e.jsx(fs,{className:"w-5 h-5"}),component:"performance",defaultSize:{w:2,h:2},availableSizes:["2x2","3x2","4x2"],supportsColors:!1,supportsDesigns:!1,minSize:{w:2,h:2},recommendedSize:{w:3,h:2}},{id:"budget-tracker",name:"Budget Tracker",description:"Track spending and budget",category:"Performance",icon:e.jsx(W,{className:"w-5 h-5"}),component:"performance",defaultSize:{w:2,h:2},availableSizes:["2x2","3x2","4x2"],supportsColors:!1,supportsDesigns:!1,minSize:{w:2,h:2},recommendedSize:{w:3,h:2}},{id:"chart-performance",name:"Performance Chart",description:"Multi-metric performance graph",category:"Charts",icon:e.jsx(xe,{className:"w-5 h-5"}),component:"chart",defaultSize:{w:4,h:3},availableSizes:["4x2","4x3"],supportsColors:!1,supportsDesigns:!1,minSize:{w:4,h:2},recommendedSize:{w:4,h:3}},{id:"chart-bars",name:"Bar Chart",description:"Weekly performance bars",category:"Charts",icon:e.jsx(xe,{className:"w-5 h-5"}),component:"custom",defaultSize:{w:3,h:2},availableSizes:["2x2","3x2","4x2"],supportsColors:!0,supportsDesigns:!0,minSize:{w:2,h:2},recommendedSize:{w:3,h:2}},{id:"analytics-audience",name:"Audience Demographics",description:"Age and gender breakdown",category:"Analytics",icon:e.jsx(ps,{className:"w-5 h-5"}),component:"analytics",defaultSize:{w:3,h:2},availableSizes:["3x2","4x2"],supportsColors:!1,supportsDesigns:!1,minSize:{w:3,h:2},recommendedSize:{w:4,h:2}},{id:"analytics-funnel",name:"Conversion Funnel",description:"User journey tracking",category:"Analytics",icon:e.jsx(X,{className:"w-5 h-5"}),component:"analytics",defaultSize:{w:4,h:2},availableSizes:["3x2","4x2","4x3"],supportsColors:!1,supportsDesigns:!1,minSize:{w:3,h:2},recommendedSize:{w:4,h:2}},{id:"analytics-heatmap",name:"Performance Heatmap",description:"Best times to run ads",category:"Analytics",icon:e.jsx(ue,{className:"w-5 h-5"}),component:"analytics",defaultSize:{w:4,h:3},availableSizes:["4x3","4x4"],supportsColors:!1,supportsDesigns:!1,minSize:{w:4,h:3},recommendedSize:{w:4,h:3}},{id:"analytics-predictive",name:"Predictive Analytics",description:"AI-powered forecasting",category:"Analytics",icon:e.jsx(Se,{className:"w-5 h-5"}),component:"analytics",defaultSize:{w:4,h:2},availableSizes:["4x2","4x3"],supportsColors:!1,supportsDesigns:!1,minSize:{w:4,h:2},recommendedSize:{w:4,h:3}},{id:"ai-insights",name:"AI Insights",description:"Smart recommendations",category:"AI & Insights",icon:e.jsx(me,{className:"w-5 h-5"}),component:"ai",defaultSize:{w:4,h:3},availableSizes:["4x2","4x3"],supportsColors:!1,supportsDesigns:!1,minSize:{w:4,h:2},recommendedSize:{w:4,h:3}},{id:"ai-strategy",name:"Strategy Insights",description:"Strategic recommendations",category:"AI & Insights",icon:e.jsx(Se,{className:"w-5 h-5"}),component:"ai",defaultSize:{w:4,h:3},availableSizes:["4x2","4x3"],supportsColors:!1,supportsDesigns:!1,minSize:{w:4,h:2},recommendedSize:{w:4,h:3}},{id:"campaigns-table",name:"Campaigns Table",description:"Full campaign management",category:"Campaigns",icon:e.jsx(Ee,{className:"w-5 h-5"}),component:"campaigns",defaultSize:{w:4,h:3},availableSizes:["4x3","4x4"],supportsColors:!1,supportsDesigns:!1,minSize:{w:4,h:3},recommendedSize:{w:4,h:3}},{id:"campaigns-list",name:"Active Campaigns",description:"Campaign list with progress",category:"Campaigns",icon:e.jsx(U,{className:"w-5 h-5"}),component:"custom",defaultSize:{w:3,h:2},availableSizes:["2x2","3x2","4x2"],supportsColors:!1,supportsDesigns:!1,minSize:{w:2,h:2},recommendedSize:{w:3,h:2}},{id:"activity-weekly",name:"Weekly Activity",description:"Daily engagement levels",category:"Activity",icon:e.jsx(ue,{className:"w-5 h-5"}),component:"custom",defaultSize:{w:2,h:2},availableSizes:["2x2","3x2"],supportsColors:!0,supportsDesigns:!0,minSize:{w:2,h:2},recommendedSize:{w:2,h:2}}],Me=[{layoutId:"widget-1",templateId:"stat-impressions",size:{w:2,h:2},color:"blue",design:"gradient"},{layoutId:"widget-2",templateId:"stat-clicks",size:{w:2,h:2},color:"green",design:"gradient"},{layoutId:"widget-3",templateId:"chart-performance",size:{w:4,h:3},color:"blue",design:"minimal"},{layoutId:"widget-4",templateId:"ai-insights",size:{w:4,h:3},color:"purple",design:"minimal"}],Pe=[{i:"widget-1",x:0,y:0,w:2,h:2},{i:"widget-2",x:2,y:0,w:2,h:2},{i:"widget-3",x:0,y:2,w:4,h:3},{i:"widget-4",x:0,y:5,w:4,h:3}];function Qs({onAddWidgetClick:n,range:a="7d",compare:s=!1,channel:c="meta",data:i=null,loading:m=!1,error:x=null,accountId:f="default"}){const u=`appleLayout_v2:${f}`,p=`appleWidgets_v2:${f}`,[l,k]=y.useState(()=>{if(typeof window>"u")return Me;const d=localStorage.getItem(p);return d?JSON.parse(d):Me}),[h,b]=y.useState(()=>{if(typeof window>"u")return Pe;const d=localStorage.getItem(u);return d?JSON.parse(d):Pe}),[N,w]=y.useState(!1),[t,r]=y.useState("All"),[o,S]=y.useState(null),[j,A]=y.useState({size:"",color:"blue",design:"gradient"}),[F,B]=y.useState(typeof window<"u"?window.innerWidth:1200);y.useEffect(()=>{const d=()=>B(window.innerWidth);return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),y.useEffect(()=>{localStorage.setItem(p,JSON.stringify(l))},[l,p]);const I=d=>{b(d),localStorage.setItem(u,JSON.stringify(d))},z=d=>{S(d),A({size:d.availableSizes[0],color:"blue",design:"gradient"})},R=()=>{if(!o)return;const d=oe.find(V=>V.id===j.size);if(!d)return;const v=`widget-${Date.now()}`,C={layoutId:v,templateId:o.id,size:{w:d.w,h:d.h},color:o.supportsColors?j.color:"blue",design:o.supportsDesigns?j.design:"minimal"};k([...l,C]);const $=h.length>0?Math.max(...h.map(V=>V.y+V.h)):0,T={i:v,x:0,y:$,w:d.w,h:d.h};b([...h,T]),w(!1),S(null)},G=d=>{k(l.filter(v=>v.layoutId!==d)),b(h.filter(v=>v.i!==d))},Z=["All",...Array.from(new Set(J.map(d=>d.category)))],g=t==="All"?J:J.filter(d=>d.category===t);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between animate-in fade-in slide-in-from-top duration-500",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Grid Dashboard"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.length," active widgets"]})]}),e.jsxs("button",{onClick:()=>w(!0),className:"px-5 py-3 bg-primary text-primary-foreground rounded-xl hover:scale-105 transition-all shadow-lg shadow-primary/30 flex items-center gap-2 font-bold",children:[e.jsx(Ge,{className:"w-5 h-5"}),"Add Widget"]})]}),e.jsxs("div",{className:"w-full h-full relative",children:[e.jsx("style",{children:`
          .react-grid-layout {
            position: relative;
          }
          .react-grid-item {
            transition: all 200ms ease;
            cursor: grab;
          }
          .react-grid-item:active {
            cursor: grabbing;
          }
          .react-grid-item.react-draggable-dragging {
            transition: none;
            z-index: 100;
            opacity: 0.95;
            cursor: grabbing !important;
          }
          .react-grid-item > .react-resizable-handle {
            display: none;
          }
          .widget-content {
            width: 100%;
            height: 100%;
            overflow: hidden;
          }
        `}),e.jsx(As,{className:"layout",layout:h,cols:4,rowHeight:170,width:Math.min(F>768?F-120:F-40,1400),onLayoutChange:I,isDraggable:!0,isResizable:!1,compactType:"vertical",preventCollision:!1,margin:[12,12],containerPadding:[0,0],children:l.map(d=>{const v=J.find(C=>C.id===d.templateId);return v?e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>G(d.layoutId),className:"absolute -top-3 -right-3 z-20 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-all shadow-xl flex items-center justify-center",children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("div",{className:"widget-content",children:e.jsx(ns,{widget:d,template:v,data:i,loading:m,error:x})})]},d.layoutId):null})})]}),N&&!o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md animate-in fade-in duration-200 p-4",children:e.jsxs("div",{className:"bg-card/95 backdrop-blur-xl border border-border/50 rounded-3xl shadow-2xl w-full max-w-7xl max-h-[92vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-border/30 bg-gradient-to-r from-primary/10 to-transparent",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Widget Gallery"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[J.length," premium widgets available"]})]}),e.jsx("button",{onClick:()=>w(!1),className:"p-3 hover:bg-muted/50 rounded-xl transition-all",children:e.jsx(K,{className:"w-6 h-6 text-muted-foreground"})})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Z.map(d=>e.jsx("button",{onClick:()=>r(d),className:`px-6 py-2.5 rounded-xl text-sm font-bold transition-all whitespace-nowrap ${t===d?"bg-primary text-primary-foreground shadow-lg shadow-primary/30":"bg-muted/50 text-muted-foreground hover:bg-muted"}`,children:d},d))})]}),e.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(92vh-11rem)]",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(d=>e.jsxs("button",{onClick:()=>z(d),className:"group relative bg-card/40 hover:bg-card/60 border-2 border-border/30 hover:border-primary/50 rounded-3xl transition-all overflow-hidden hover:scale-[1.02] hover:shadow-2xl",children:[e.jsx("div",{className:"aspect-[4/3] p-4 bg-gradient-to-br from-background/50 to-transparent overflow-hidden",children:e.jsx("div",{className:"w-full h-full scale-[0.75] origin-center",children:e.jsx(Zs,{template:d})})}),e.jsxs("div",{className:"p-5 border-t border-border/30 bg-background/70 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"p-3 bg-primary/20 rounded-xl text-primary flex-shrink-0",children:d.icon}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("h3",{className:"font-bold text-foreground mb-1",children:d.name}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:d.description})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex gap-1.5",children:d.availableSizes.slice(0,3).map(v=>{var C;return e.jsx("span",{className:"px-2 py-1 bg-muted/80 rounded-lg text-xs font-semibold text-foreground",children:(C=oe.find($=>$.id===v))==null?void 0:C.label},v)})}),e.jsx(We,{className:"w-5 h-5 text-primary group-hover:translate-x-1 transition-transform"})]})]})]},d.id))})})]})}),N&&o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md animate-in fade-in duration-200 p-4",children:e.jsxs("div",{className:"bg-card/95 backdrop-blur-xl border border-border/50 rounded-3xl shadow-2xl w-full max-w-5xl max-h-[92vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"px-8 py-6 border-b border-border/30 bg-gradient-to-r from-primary/10 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("button",{onClick:()=>S(null),className:"text-sm text-muted-foreground hover:text-foreground mb-2 flex items-center gap-1 font-medium",children:"← Back to gallery"}),e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-1",children:"Customize Widget"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.name})]}),e.jsx("button",{onClick:()=>{w(!1),S(null)},className:"p-3 hover:bg-muted/50 rounded-xl transition-all",children:e.jsx(K,{className:"w-6 h-6 text-muted-foreground"})})]})}),e.jsxs("div",{className:"p-8 overflow-y-auto max-h-[calc(92vh-10rem)]",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4 flex items-center gap-3",children:[e.jsx("span",{className:"w-10 h-10 bg-primary/20 rounded-xl flex items-center justify-center text-primary text-lg font-bold",children:"1"}),"Choose Size"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:o.availableSizes.map(d=>{const v=oe.find(C=>C.id===d);return v?e.jsxs("button",{onClick:()=>A({...j,size:d}),className:`p-6 rounded-2xl border-2 transition-all ${j.size===d?"border-primary bg-primary/10 scale-105 shadow-xl shadow-primary/20":"border-border/30 bg-muted/20 hover:bg-muted/40"}`,children:[e.jsx("div",{className:"font-bold text-foreground text-lg mb-2",children:v.label}),e.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:[v.w,"×",v.h]}),j.size===d&&e.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary text-sm font-bold",children:[e.jsx(Y,{className:"w-4 h-4"}),"Selected"]})]},d):null})})]}),o.supportsDesigns&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4 flex items-center gap-3",children:[e.jsx("span",{className:"w-10 h-10 bg-primary/20 rounded-xl flex items-center justify-center text-primary text-lg font-bold",children:"2"}),"Choose Design"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Xs.map(d=>e.jsxs("button",{onClick:()=>A({...j,design:d.id}),className:`p-6 rounded-2xl border-2 transition-all ${j.design===d.id?"border-primary bg-primary/10 scale-105 shadow-xl shadow-primary/20":"border-border/30 bg-muted/20 hover:bg-muted/40"}`,children:[e.jsx("div",{className:"font-bold text-foreground mb-1",children:d.name}),e.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:d.description}),j.design===d.id&&e.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary text-xs font-bold",children:[e.jsx(Y,{className:"w-3 h-3"}),"Selected"]})]},d.id))})]}),o.supportsColors&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4 flex items-center gap-3",children:[e.jsx("span",{className:"w-10 h-10 bg-primary/20 rounded-xl flex items-center justify-center text-primary text-lg font-bold",children:"3"}),"Choose Color"]}),e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-4",children:ge.map(d=>e.jsx("button",{onClick:()=>A({...j,color:d.id}),className:`aspect-square rounded-2xl border-4 transition-all hover:scale-110 bg-gradient-to-br ${d.primary} to-transparent ${j.color===d.id?"border-foreground scale-110 shadow-2xl":"border-transparent"}`,children:j.color===d.id&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Y,{className:"w-8 h-8 text-foreground drop-shadow-lg"})})},d.id))})]}),e.jsx("button",{onClick:R,disabled:!j.size,className:"w-full py-5 bg-primary text-primary-foreground rounded-2xl font-bold text-xl hover:scale-[1.02] transition-all shadow-xl shadow-primary/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Add to Dashboard"})]})]})})]})}function Zs({template:n}){const a={layoutId:"preview",templateId:n.id,size:n.defaultSize,color:"blue",design:"gradient"};return e.jsx(ns,{widget:a,template:n,data:null,loading:!1,error:null,isPreview:!0})}function ns({widget:n,template:a,data:s,loading:c,error:i,isPreview:m=!1}){var f,u,p,l,k,h,b,N,w;const x=ge.find(t=>t.id===n.color)||ge[0];if(c&&!m)return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl flex items-center justify-center",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading..."})});if(i&&!m)return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-red-500/50 shadow-xl flex items-center justify-center p-4",children:e.jsx("div",{className:"text-red-500 text-sm text-center",children:i})});if(a.component==="stat"){const r={"stat-impressions":{key:"impressions",label:"Impressions",icon:e.jsx(Q,{className:"w-7 h-7"})},"stat-clicks":{key:"clicks",label:"Clicks",icon:e.jsx(re,{className:"w-7 h-7"})},"stat-ctr":{key:"ctr",label:"Click Rate",icon:e.jsx(X,{className:"w-7 h-7"})},"stat-roas":{key:"roas",label:"ROAS",icon:e.jsx(W,{className:"w-7 h-7"})}}[a.id];if(!r)return null;const o=(f=s==null?void 0:s.summary)==null?void 0:f[r.key],S=(p=(u=s==null?void 0:s.summary)==null?void 0:u.deltas)==null?void 0:p[r.key],j=typeof o=="number"?o:Number(o??0),A=typeof S=="number"?S:Number(S??0),F=o==null?"—":r.key==="spend"||r.key==="revenue"?`€${(j/1e3).toFixed(1)}K`:r.key==="ctr"?`${j.toFixed(2)}%`:r.key==="roas"?`${j.toFixed(2)}x`:r.key==="cpa"?`€${j.toFixed(2)}`:new Intl.NumberFormat("de-DE").format(j),B=S==null?"—":`${A>=0?"+":""}${Math.round(A*100)}%`,I=S!=null&&A>=0;return e.jsxs("div",{className:`w-full h-full p-6 bg-gradient-to-br ${x.primary} to-transparent backdrop-blur-xl border ${x.border} rounded-3xl flex flex-col justify-between shadow-xl overflow-hidden`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 ${x.bg} rounded-2xl ${x.icon}`,children:r.icon}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:r.label})]}),S!=null&&e.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 ${I?"bg-green-500/20":"bg-red-500/20"} rounded-full`,children:[I?e.jsx(bs,{className:"w-4 h-4 text-green-400"}):e.jsx(se,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:`text-sm font-bold ${I?"text-green-400":"text-red-400"}`,children:B})]})]}),e.jsx("div",{className:"mt-auto",children:e.jsx("div",{className:"text-4xl font-bold text-foreground",children:F})})]})}if(a.id==="ai-insights")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl overflow-hidden",children:e.jsx("div",{className:"scale-100 origin-top-left w-full h-full overflow-hidden",children:e.jsx(Qe,{})})});if(a.id==="ai-strategy")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl overflow-hidden",children:e.jsx("div",{className:"scale-100 origin-top-left w-full h-full overflow-hidden",children:e.jsx(ts,{})})});if(a.id==="chart-performance")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl overflow-hidden",children:e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(Ze,{current:((l=s==null?void 0:s.timeseries)==null?void 0:l.current)??[],previous:((k=s==null?void 0:s.timeseries)==null?void 0:k.previous)??null,compare:!!(s!=null&&s.compare),granularity:(s==null?void 0:s.granularity)??"day",range:s==null?void 0:s.range,loading:c})})});if(a.id==="analytics-audience")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl p-5 overflow-hidden",children:e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(qe,{})})});if(a.id==="analytics-funnel")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl p-5 overflow-hidden",children:e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(es,{})})});if(a.id==="analytics-heatmap")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl p-5 overflow-hidden",children:e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(ss,{})})});if(a.id==="analytics-predictive")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl p-5 overflow-hidden",children:e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(rs,{})})});if(a.id==="performance-score")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl p-5 overflow-hidden",children:e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(Ye,{})})});if(a.id==="budget-tracker")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl p-5 overflow-hidden",children:e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(Xe,{})})});if(a.id==="campaigns-table")return e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-card/60 rounded-3xl border border-border/50 shadow-xl overflow-hidden",children:e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsx(as,{})})});if(a.id==="chart-bars"){const t=Array.from({length:7},(z,R)=>({ts:new Date(Date.now()-(6-R)*24*60*60*1e3).toISOString(),impressions:Math.random()*5e4+3e4,clicks:Math.random()*2e3+1e3,spend:Math.random()*500+200,revenue:Math.random()*2e3+800,conversions:Math.random()*50+20,ctr:Math.random()*3+1,cpa:Math.random()*20+5,roas:Math.random()*4+2})),r=m?t:((h=s==null?void 0:s.timeseries)==null?void 0:h.current)??[],o="revenue",S=Js({loading:c,data:r.length>0?r:null,isPreview:m,error:i}),j=r.slice(-7),A=j.map(z=>Number((z==null?void 0:z[o])??0)).map(z=>Number.isFinite(z)?z:0),F=Math.max(...A,1),B=A.map(z=>{const R=z/F*100;return z>0?Math.max(R,6):0}),I=j.map(z=>new Date(z.ts).toLocaleDateString([],{weekday:"short"}));return e.jsx(Ys,{title:"Performance",subtitle:(s==null?void 0:s.range)==="7d"?"Last 7 days":(s==null?void 0:s.range)==="30d"?"Last 30 days":(s==null?void 0:s.range)==="90d"?"Last 90 days":"Custom range",icon:e.jsx(xe,{className:"w-4 h-4"}),state:S,error:i,emptyTitle:"No performance data",emptyDescription:"Run campaigns to see performance trends here.",emptyAction:e.jsx("button",{className:"text-sm font-medium text-primary hover:underline",children:"Create campaign →"}),headerAction:((N=(b=s==null?void 0:s.summary)==null?void 0:b.deltas)==null?void 0:N.revenue)!=null&&e.jsx("div",{className:"px-2 py-1 bg-green-500/10 rounded-full",children:e.jsxs("span",{className:"text-xs font-bold text-green-500",children:["↑ ",Math.round(s.summary.deltas.revenue*100),"%"]})}),children:e.jsxs("div",{className:"w-full h-full flex flex-col",children:[e.jsx("div",{className:"flex-1 min-h-0 flex items-end gap-1.5",children:B.map((z,R)=>e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:`w-full bg-gradient-to-t ${x.primary} rounded-t-lg transition-all`,style:{height:`${z}%`},title:`${I[R]}: €${A[R].toLocaleString("de-DE")}`})},R))}),e.jsxs("div",{className:"flex justify-between mt-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:I[0]??"—"}),e.jsx("span",{children:I[I.length-1]??"—"})]})]})})}if(a.id==="activity-weekly"){const t=(((w=s==null?void 0:s.timeseries)==null?void 0:w.current)??[]).slice(-5),r=t.map(j=>j.clicks??0),o=Math.max(...r,1),S=t.map(j=>({label:new Date(j.ts).toLocaleDateString([],{weekday:"short"}),pct:Math.round((j.clicks??0)/o*100)}));return e.jsxs("div",{className:`w-full h-full p-5 bg-gradient-to-br ${x.primary} to-transparent backdrop-blur-xl border ${x.border} rounded-3xl shadow-xl flex flex-col overflow-hidden`,children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-base font-bold text-foreground flex items-center gap-2",children:[e.jsx(ue,{className:`w-4 h-4 ${x.icon}`}),"Weekly Activity"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Engagement"})]}),e.jsx("div",{className:"flex-1 space-y-2.5",children:S.length>0?S.map((j,A)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground w-6 font-medium",children:j.label}),e.jsx("div",{className:"flex-1 h-2 bg-muted/20 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${x.primary} rounded-full`,style:{width:`${j.pct}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-foreground w-8 text-right",children:[j.pct,"%"]})]},A)):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-xs",children:"No data"})})]})}if(a.id==="campaigns-list"){const t=((s==null?void 0:s.campaigns)??[]).filter(r=>r.status==="active").slice(0,3);return e.jsxs("div",{className:"w-full h-full p-5 bg-card/60 backdrop-blur-xl border border-border/30 rounded-3xl shadow-xl flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-base font-bold text-foreground flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-primary"}),"Active Campaigns"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.length," running"]})]})}),e.jsx("div",{className:"flex-1 space-y-2.5 overflow-hidden",children:t.length>0?t.map(r=>{const o=r.budget?Math.round((r.budgetUsed??r.spend)/r.budget*100):Math.round(r.spend/15e3*100);return e.jsxs("div",{className:"p-3 bg-muted/30 rounded-xl border border-border/30",children:[e.jsx("div",{className:"font-semibold text-xs text-foreground mb-2",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-muted/30 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/60 rounded-full",style:{width:`${Math.min(o,100)}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-foreground",children:[o,"%"]})]})]},r.id)}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-xs",children:"No active campaigns"})})]})}return null}const de=[{id:"metrics",name:"Key Performance Metrics",description:"Impressions, CTR, CPC, ROAS - Core KPIs",category:"essential",isVisible:!0},{id:"performance-chart",name:"Performance Chart",description:"Multi-line chart showing trends over time",category:"essential",isVisible:!0},{id:"ai-insights",name:"AI-Powered Insights",description:"Smart recommendations and anomaly detection",category:"essential",isVisible:!0},{id:"audience-breakdown",name:"Audience Demographics",description:"Age and gender distribution of your audience",category:"analytics",isVisible:!0},{id:"conversion-funnel",name:"Conversion Funnel",description:"Track user journey from impression to purchase",category:"analytics",isVisible:!0},{id:"performance-heatmap",name:"Performance Heatmap",description:"Best times to run ads by day and hour",category:"advanced",isVisible:!0},{id:"predictive-analytics",name:"Predictive Analytics",description:"7-day forecast with AI-powered predictions",category:"advanced",isVisible:!0},{id:"campaigns-table",name:"Campaign Management Table",description:"Manage all your campaigns in one place",category:"essential",isVisible:!0},{id:"performance-score",name:"Performance Score",description:"Overall campaign health score (0-100)",category:"essential",isVisible:!1},{id:"budget-tracker",name:"Budget Tracker",description:"Track spending and remaining budget",category:"essential",isVisible:!1},{id:"strategy-insights",name:"Strategy Insights",description:"Additional strategic recommendations",category:"advanced",isVisible:!1},{id:"automations",name:"Automation Rules",description:"Auto-pause and scale rules that protect your budget",category:"advanced",isVisible:!0},{id:"notifications",name:"Alerts & Notifications",description:"Critical alerts about budget and performance",category:"essential",isVisible:!1}];function ur(){const[n,a]=y.useState(()=>{const g=localStorage.getItem("analyticsGridLayout");return g?JSON.parse(g):!1}),[s,c]=y.useState(()=>{const g=localStorage.getItem("analyticsSections");return g?JSON.parse(g):de}),[i,m]=y.useState("30d"),[x,f]=y.useState(!1),{data:u,loading:p}=Is(i,x,"meta"),l=u==null?void 0:u.summary,k=(u==null?void 0:u.timeseries.current)??[],h=g=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(g),b=g=>new Intl.NumberFormat("de-DE",{notation:"compact",maximumFractionDigits:1}).format(g),N=g=>g==null||Number.isNaN(g)?0:Math.round(g*1e3)/10,w=(l==null?void 0:l.spend)??0,t=(l==null?void 0:l.revenue)??0,r=(l==null?void 0:l.clicks)??0,o=(l==null?void 0:l.impressions)??0,S=(l==null?void 0:l.conversions)??0,j=(l==null?void 0:l.cpa)!==void 0&&(l==null?void 0:l.cpa)!==null?l.cpa:S>0?w/S:0,A=k.length>0?w/k.length:0,F=()=>{const g=!n;a(g),localStorage.setItem("analyticsGridLayout",JSON.stringify(g)),E.success(g?"Switched to Grid Layout":"Switched to List Layout",{duration:2e3})},B=g=>{const d=s.map(C=>C.id===g?{...C,isVisible:!C.isVisible}:C);c(d),localStorage.setItem("analyticsSections",JSON.stringify(d));const v=d.find(C=>C.id===g);E.success(v!=null&&v.isVisible?`${v.name} activated`:`${v==null?void 0:v.name} hidden`,{duration:2e3})},I=()=>{c(de),localStorage.setItem("analyticsSections",JSON.stringify(de)),E.success("Analytics reset to default settings",{duration:2e3})},z=g=>{if(g===0)return;const d=s.filter(T=>T.isVisible),v=[...d];[v[g],v[g-1]]=[v[g-1],v[g]];const C=s.filter(T=>!T.isVisible),$=[...v,...C];c($),localStorage.setItem("analyticsSections",JSON.stringify($)),E.success(`Moved ${d[g].name} up`,{duration:1500})},R=g=>{const d=s.filter(T=>T.isVisible);if(g===d.length-1)return;const v=[...d];[v[g],v[g+1]]=[v[g+1],v[g]];const C=s.filter(T=>!T.isVisible),$=[...v,...C];c($),localStorage.setItem("analyticsSections",JSON.stringify($)),E.success(`Moved ${d[g].name} down`,{duration:1500})},G=s.filter(g=>g.isVisible),Z=g=>{var d,v,C,$,T,V,be,je;switch(g){case"notifications":return e.jsx(D,{className:"hidden md:block overflow-hidden",children:e.jsx(Ls,{})});case"performance-score":return e.jsx(D,{className:"hidden md:block p-6",children:e.jsx(Ye,{})});case"budget-tracker":return e.jsx(D,{className:"hidden md:block p-6",children:e.jsx(Xe,{})});case"metrics":return e.jsxs(D,{className:"p-6 md:p-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:"Campaign Performance"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time analytics overview"})]}),e.jsx("div",{className:"px-3 py-1.5 bg-muted border border-border rounded-lg w-fit",children:e.jsx("span",{className:"text-xs text-foreground font-medium whitespace-nowrap",children:p?"● Loading":"● Live"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[e.jsxs("div",{className:"p-5 md:p-6 rounded-lg bg-muted/30 border border-border",children:[e.jsx("div",{className:"text-3xl md:text-4xl text-foreground mb-2 font-bold",children:h(w)}),e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Total Ad Spend"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Daily avg: ",h(A)]})]}),e.jsxs("div",{className:"p-5 md:p-6 rounded-lg bg-muted/30 border border-border",children:[e.jsx("div",{className:"text-3xl md:text-4xl text-foreground mb-2 font-bold",children:h(t)}),e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Total Revenue"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Return on investment: ",((l==null?void 0:l.roas)??0).toFixed(2),"x"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(ee,{title:"Impressions",value:b(o),subValue:`Clicks: ${b(r)}`,percentage:N((d=l==null?void 0:l.deltas)==null?void 0:d.impressions),isPositive:(((v=l==null?void 0:l.deltas)==null?void 0:v.impressions)??0)>=0,icon:e.jsx(Q,{className:"w-5 h-5"}),color:"#3b82f6",tooltip:"Total number of times your ads were shown to users"}),e.jsx(ee,{title:"Click-through rate",value:`${((l==null?void 0:l.ctr)??0).toFixed(2)}%`,subValue:`Impressions: ${b(o)}`,percentage:N((C=l==null?void 0:l.deltas)==null?void 0:C.ctr),isPositive:((($=l==null?void 0:l.deltas)==null?void 0:$.ctr)??0)>=0,icon:e.jsx(re,{className:"w-5 h-5"}),color:"#10b981",tooltip:"Percentage of impressions that resulted in clicks"}),e.jsx(ee,{title:"Cost per acquisition",value:h(j),subValue:`Conversions: ${b(S)}`,percentage:N((T=l==null?void 0:l.deltas)==null?void 0:T.cpa),isPositive:(((V=l==null?void 0:l.deltas)==null?void 0:V.cpa)??0)<=0,icon:e.jsx(W,{className:"w-5 h-5"}),color:"#f59e0b",tooltip:"Average cost you pay for each conversion"}),e.jsx(ee,{title:"Return on ad spend",value:`${((l==null?void 0:l.roas)??0).toFixed(2)}x`,subValue:`Revenue: ${h(t)}`,percentage:N((be=l==null?void 0:l.deltas)==null?void 0:be.roas),isPositive:(((je=l==null?void 0:l.deltas)==null?void 0:je.roas)??0)>=0,icon:e.jsx(O,{className:"w-5 h-5"}),color:"#8b5cf6",tooltip:"Revenue generated for every dollar spent on advertising"})]})]});case"ai-insights":return e.jsx(D,{className:"overflow-hidden",children:e.jsx(Qe,{})});case"performance-chart":return e.jsx(D,{className:"overflow-hidden",children:e.jsx(Ze,{current:(u==null?void 0:u.timeseries.current)??[],previous:(u==null?void 0:u.timeseries.previous)??[],compare:x,granularity:(u==null?void 0:u.granularity)??"day",range:i,loading:p})});case"audience-breakdown":return e.jsx(D,{className:"p-6",children:e.jsx(qe,{})});case"conversion-funnel":return e.jsx(D,{className:"p-6",children:e.jsx(es,{})});case"performance-heatmap":return e.jsx(D,{className:"p-6",children:e.jsx(ss,{})});case"predictive-analytics":return e.jsx(D,{className:"p-6",children:e.jsx(rs,{})});case"strategy-insights":return e.jsx(D,{children:e.jsx(ts,{})});case"campaigns-table":return e.jsx(D,{className:"overflow-hidden",children:e.jsx(as,{campaigns:(u==null?void 0:u.campaigns)??[]})});case"automations":return e.jsx(D,{className:"p-6",children:e.jsx(Hs,{})});default:return null}};return e.jsxs(zs,{children:[e.jsx(Ds,{title:"Analytics",subtitle:"Deep analysis and customizable data workspace for advanced insights",chips:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(ae,{children:[G.length," Widgets"]}),e.jsx(ae,{children:n?"📊 Grid":"📋 List"}),e.jsx(ae,{children:i==="7d"?"7 Days":i==="30d"?"30 Days":"90 Days"})]})}),e.jsx(D,{className:"block md:hidden p-4",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsxs("select",{value:i,onChange:g=>m(g.target.value),className:"flex-1 px-3 py-2 bg-card border border-border rounded-lg text-sm font-medium text-foreground focus:outline-none focus:ring-2 focus:ring-primary min-w-0",children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"})]}),e.jsx("button",{onClick:()=>f(!x),className:`flex-shrink-0 px-3 py-2 rounded-lg text-sm font-medium border transition-colors ${x?"bg-primary text-primary-foreground border-primary":"bg-card text-foreground border-border"}`,children:"Compare"})]})}),e.jsxs(D,{className:"hidden md:block p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:"Customize Your Workspace"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add widgets, change layout, and configure data views"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(L,{onClick:F,variant:n?"default":"outline",className:n?"bg-primary text-primary-foreground":"",children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Grid Layout"]}),e.jsx(Rs,{sections:s,onToggleSection:B,onResetToDefaults:I})]})]}),e.jsx(Ts,{onRangeChange:m,onCompareToggle:f})]}),e.jsxs("div",{className:"block md:hidden space-y-4 w-full overflow-x-hidden",children:[G.map(g=>e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 w-full overflow-x-hidden",children:Z(g.id)},g.id)),e.jsx("div",{className:"p-4 bg-muted/50 border border-border rounded-xl text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"💡 Customize widgets and layout on desktop"})})]}),e.jsx("div",{className:"hidden md:block",children:n?e.jsx(Qs,{}):e.jsx("div",{className:"space-y-6",children:G.map((g,d)=>e.jsx($s,{id:g.id,index:d,totalCount:G.length,onMoveUp:z,onMoveDown:R,children:Z(g.id)},g.id))})})]})}export{ur as AnalyticsPage};
