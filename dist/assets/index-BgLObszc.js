const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingPage-B2BCKFZm.js","assets/vendor-react-BtVdps6C.js","assets/vendor-Cwcl6ryW.js","assets/vendor-radix-BA32w1ww.js","assets/GlobalNav-B2At0zCU.js","assets/FeaturesPage-CqSfl_t0.js","assets/PricingPage-sSGyT-TX.js","assets/AdsStrategiesPage-BaY0pET0.js","assets/PageShell-BcTt0uJw.js","assets/HeroHeader-D_79mwMf.js","assets/Card-BkrgSx6M.js","assets/creative-C4rWjoa1.js","assets/vendor-supabase-CX3WxO18.js","assets/CampaignsPage-BFll1oEQ.js","assets/Chip-BZQq5WZ-.js","assets/SettingsPage-a12xKdM6.js","assets/apiClient-Xod5JFW7.js","assets/meta-BVXeiVXm.js","assets/AffiliatePage-4etoHxcO.js","assets/vendor-charts-KPNNdnYR.js","assets/ProfilePage-5jtFgcJt.js","assets/HelpSupportPage-POO2-BfV.js","assets/OverviewPage-BBvvzOyb.js","assets/index-DXIn02yU.js","assets/AdBuilderPage-C-mHgNEH.js","assets/useStrategies-CynI3epd.js","assets/CreativeBuilderPage-D0u4b-1o.js","assets/AnalyticsPage-BTI4vbbH.js","assets/vendor-layout-D2aCEpl9.js","assets/vendor-layout-CgLZr6WS.css","assets/useAnalyticsData-CRP3Fo9k.js","assets/AIAnalysisPage-Pt-rWc1i.js"])))=>i.map(i=>d[i]);
import{j as e,X as Y,a4 as ae,a5 as ne,a6 as ie,D as V,a7 as oe,a8 as ce,a9 as le,aa as J,ab as de,ac as ue,ad as me,ae as he,af as fe,r as n,ag as ge,ah as xe,ai as pe,aj as be,ak as je,al as ve,am as ye,an as we,ao as Pe,ap as _e,aq as Ne,ar as Se,as as Ee,at as Le,au as B,av as ke,aw as Ae,ax as Re,ay as Ce,az as Ie,Q as De}from"./vendor-react-BtVdps6C.js";import{c as L,A as ze,u as Te}from"./creative-C4rWjoa1.js";import{aJ as Oe,aK as Ve,f as S}from"./vendor-Cwcl6ryW.js";import"./vendor-radix-BA32w1ww.js";import"./vendor-supabase-CX3WxO18.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();const Ue="modulepreload",$e=function(t){return"/"+t},H={},f=function(s,a,u){let i=Promise.resolve();if(a&&a.length>0){let h=function(b){return Promise.all(b.map(w=>Promise.resolve(w).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),N=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=h(a.map(b=>{if(b=$e(b),b in H)return;H[b]=!0;const w=b.endsWith(".css"),g=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${g}`))return;const j=document.createElement("link");if(j.rel=w?"stylesheet":Ue,w||(j.as="script"),j.crossOrigin="",j.href=b,N&&j.setAttribute("nonce",N),document.head.appendChild(j),w)return new Promise((r,A)=>{j.addEventListener("load",r),j.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${b}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return i.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return s().catch(l)})};function Fe({isCollapsed:t=!1,onToggle:s,currentPage:a,onNavigate:u,isMobileOpen:i,onMobileClose:l,onLogout:h}){const d=[{icon:ae,label:"Dashboard",page:"dashboard"},{icon:ne,label:"Analytics",page:"analytics"},{icon:ie,label:"Ad Builder",page:"adbuilder"},{icon:V,label:"Creative Builder",page:"creative-builder"},{icon:oe,label:"Strategies",page:"strategies"},{icon:ce,label:"Campaigns",page:"campaigns"},{icon:le,label:"AI Analysis",page:"aianalysis"}],N=[{icon:J,label:"Settings",page:"settings"},{icon:de,label:"Affiliate",page:"affiliate"}],b=g=>{u(g),l&&l()},w=g=>{const j=g.page===a;return e.jsxs("button",{onClick:()=>b(g.page),className:`relative w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors ${j?"bg-sidebar-accent text-sidebar-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/50"}`,title:t&&!i?g.label:void 0,children:[j&&e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-primary rounded-r"}),e.jsx(g.icon,{className:"w-5 h-5 flex-shrink-0"}),(i||!t)&&e.jsx("span",{className:`flex-1 text-left text-sm ${j?"font-semibold":"font-medium"}`,children:g.label})]},g.page)};return e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:l}),e.jsxs("div",{className:`bg-sidebar border-r border-sidebar-border h-screen fixed left-0 top-0 flex flex-col transition-all duration-300 z-50
          ${i?"translate-x-0 w-64":"-translate-x-full w-64"}
          ${!i&&t?"md:translate-x-0 md:w-20":""}
          ${!i&&!t?"md:translate-x-0 md:w-64":""}
        `,onMouseLeave:()=>!i&&(s==null?void 0:s(!0)),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-sidebar-border",onMouseEnter:()=>!i&&(s==null?void 0:s(!1)),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"AR"})}),(i||!t)&&e.jsx("span",{className:"text-sidebar-foreground font-bold text-lg",children:"AdRuby"})]}),i&&e.jsx("button",{className:"md:hidden p-2 rounded-lg text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent transition-colors",onClick:l,children:e.jsx(Y,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4",children:[e.jsxs("div",{className:"mb-6",children:[(i||!t)&&e.jsx("div",{className:"px-4 mb-2",children:e.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:"Workflow"})}),e.jsx("div",{className:"space-y-1",children:d.map(w)})]}),e.jsx("div",{className:"border-t border-sidebar-border my-4"}),e.jsxs("div",{children:[(i||!t)&&e.jsx("div",{className:"px-4 mb-2",children:e.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:"Account"})}),e.jsx("div",{className:"space-y-1",children:N.map(w)})]})]}),e.jsx("div",{className:"p-4 border-t border-sidebar-border",children:e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/50 transition-colors",title:t&&!i?"Logout":void 0,onClick:h,children:[e.jsx(ue,{className:"w-5 h-5 flex-shrink-0"}),(i||!t)&&e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})]})}function Ge({className:t,...s}){return e.jsx(me,{"data-slot":"avatar",className:L("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...s})}function qe({className:t,...s}){return e.jsx(he,{"data-slot":"avatar-image",className:L("aspect-square size-full",t),...s})}function Be({className:t,...s}){return e.jsx(fe,{"data-slot":"avatar-fallback",className:L("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}const Q=n.createContext(void 0);function He({children:t}){const[s,a]=n.useState("dark");n.useEffect(()=>{const i=localStorage.getItem("theme");i&&a(i)},[]),n.useEffect(()=>{localStorage.setItem("theme",s),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(s)},[s]);const u=()=>{a(i=>i==="light"?"dark":"light")};return e.jsx(Q.Provider,{value:{theme:s,toggleTheme:u},children:t})}function We(){const t=n.useContext(Q);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function Me({...t}){return e.jsx(ge,{"data-slot":"dropdown-menu",...t})}function Ke({...t}){return e.jsx(xe,{"data-slot":"dropdown-menu-trigger",...t})}function Ye({className:t,sideOffset:s=4,...a}){return e.jsx(pe,{children:e.jsx(be,{"data-slot":"dropdown-menu-content",sideOffset:s,className:L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...a})})}function z({className:t,inset:s,variant:a="default",...u}){return e.jsx(ye,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":a,className:L("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...u})}function Je({className:t,inset:s,...a}){return e.jsx(je,{"data-slot":"dropdown-menu-label","data-inset":s,className:L("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...a})}function W({className:t,...s}){return e.jsx(ve,{"data-slot":"dropdown-menu-separator",className:L("bg-border -mx-1 my-1 h-px",t),...s})}function Qe({sidebarWidth:t=0,onToggleMobileSidebar:s,onNavigate:a,currentCredits:u,maxCredits:i}){const{theme:l,toggleTheme:h}=We(),d=u??2450,N=i?`${d.toLocaleString()} / ${i.toLocaleString()}`:d.toLocaleString();return e.jsxs("div",{className:"h-16 backdrop-blur-xl bg-card/80 border-b border-border/50 flex items-center justify-between px-4 md:px-8 fixed top-0 right-0 z-10 transition-all duration-300 shadow-lg",style:{left:t>0?`${t}px`:"0"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:s,className:"md:hidden w-10 h-10 rounded-lg border border-border bg-card hover:bg-muted flex items-center justify-center transition-colors",children:e.jsx(we,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-card border border-border/50 rounded-lg hover:border-border transition-colors",children:[e.jsx(Pe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground font-medium",children:N}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Credits"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsx("button",{onClick:h,className:"w-10 h-10 rounded-lg border border-border bg-card hover:bg-muted flex items-center justify-center transition-colors",title:l==="dark"?"Switch to Light Mode":"Switch to Dark Mode",children:l==="dark"?e.jsx(_e,{className:"w-5 h-5 text-foreground"}):e.jsx(Ne,{className:"w-5 h-5 text-foreground"})}),e.jsxs(Me,{children:[e.jsx(Ke,{asChild:!0,children:e.jsx("button",{className:"hover:opacity-80 transition-opacity cursor-pointer",children:e.jsxs(Ge,{className:"cursor-pointer w-10 h-10",children:[e.jsx(qe,{src:""}),e.jsx(Be,{className:"bg-primary text-primary-foreground",children:"PM"})]})})}),e.jsxs(Ye,{align:"end",className:"w-56",children:[e.jsx(Je,{children:"Mein Account"}),e.jsx(W,{}),e.jsxs(z,{className:"cursor-pointer",onClick:()=>a==null?void 0:a("profile"),children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profil"})]}),e.jsxs(z,{className:"cursor-pointer",onClick:()=>a==null?void 0:a("settings"),children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx(W,{}),e.jsxs(z,{className:"cursor-pointer",onClick:()=>a==null?void 0:a("help"),children:[e.jsx(Ee,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Hilfe & Support"})]})]})]})]})]})}function P(){const t=new Date().getFullYear();return e.jsx("footer",{className:"mt-auto py-6 px-8 border-t border-border/30 backdrop-blur-xl bg-card/40",children:e.jsx("div",{className:"max-w-[1400px] mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Â© ",t," BRAVE. All rights reserved."]}),e.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),e.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Documentation"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Made with"}),e.jsx(Le,{className:"w-4 h-4 text-primary fill-primary animate-pulse"}),e.jsx("span",{children:"for marketers"})]})]})})})}function Xe({onCreateCampaign:t,onCreateAd:s}){const[a,u]=n.useState(!1),i=s??t??(()=>{}),l=[{icon:e.jsx(B,{className:"w-4 h-4"}),label:"Create Campaign",color:"text-green-500",onClick:i},{icon:e.jsx(ke,{className:"w-4 h-4"}),label:"Pause All",color:"text-yellow-500",onClick:()=>{}},{icon:e.jsx(Ae,{className:"w-4 h-4"}),label:"Resume All",color:"text-blue-500",onClick:()=>{}},{icon:e.jsx(Re,{className:"w-4 h-4"}),label:"Export Report",color:"text-purple-500",onClick:()=>{}},{icon:e.jsx(Ce,{className:"w-4 h-4"}),label:"Refresh Data",color:"text-primary",onClick:()=>{}}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed bottom-6 right-4 md:bottom-8 md:right-8 z-40",children:[e.jsx("button",{onClick:()=>u(!a),className:"w-12 h-12 md:w-14 md:h-14 bg-gradient-to-br from-primary to-purple-600 rounded-full shadow-2xl hover:shadow-primary/50 transition-all duration-300 hover:scale-110 flex items-center justify-center group",children:e.jsx("div",{className:`transition-transform duration-300 ${a?"rotate-45":"rotate-0"}`,children:a?e.jsx(Y,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):e.jsx(B,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})})}),a&&e.jsx("div",{className:"absolute bottom-full right-0 mb-3 md:mb-4 space-y-2 animate-in fade-in slide-in-from-bottom-4 duration-300",children:l.map((h,d)=>e.jsxs("div",{className:"flex items-center justify-end gap-2 md:gap-3 group/item",style:{animationDelay:`${d*50}ms`},children:[e.jsx("div",{className:"hidden sm:block px-3 md:px-4 py-1.5 md:py-2 bg-card border border-border rounded-lg shadow-lg opacity-0 group-hover/item:opacity-100 transition-opacity whitespace-nowrap",children:e.jsx("span",{className:"text-xs md:text-sm text-foreground font-medium",children:h.label})}),e.jsx("button",{onClick:()=>{h.onClick(),u(!1)},className:"w-10 h-10 md:w-12 md:h-12 bg-card border border-border rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 flex items-center justify-center hover:border-primary/50",children:e.jsx("div",{className:h.color,children:h.icon})})]},d))})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-30 animate-in fade-in duration-300",onClick:()=>u(!1)})]})}const Ze=({...t})=>{const{theme:s="system"}=Oe();return e.jsx(Ve,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},et=n.lazy(()=>f(()=>import("./LandingPage-B2BCKFZm.js"),__vite__mapDeps([0,1,2,3,4])).then(t=>({default:t.LandingPage}))),tt=n.lazy(()=>f(()=>import("./FeaturesPage-CqSfl_t0.js"),__vite__mapDeps([5,1,2,3,4])).then(t=>({default:t.FeaturesPage}))),rt=n.lazy(()=>f(()=>import("./PricingPage-sSGyT-TX.js"),__vite__mapDeps([6,1,2,3,4])).then(t=>({default:t.PricingPage}))),st=n.lazy(()=>f(()=>import("./AdsStrategiesPage-BaY0pET0.js"),__vite__mapDeps([7,1,2,3,8,9,10,11,12])).then(t=>({default:t.AdsStrategiesPage}))),at=n.lazy(()=>f(()=>import("./CampaignsPage-BFll1oEQ.js"),__vite__mapDeps([13,1,2,3,8,9,10,14,11,12])).then(t=>({default:t.CampaignsPage}))),nt=n.lazy(()=>f(()=>import("./SettingsPage-a12xKdM6.js"),__vite__mapDeps([15,1,2,3,8,9,11,12,16,17])).then(t=>({default:t.SettingsPage}))),it=n.lazy(()=>f(()=>import("./AffiliatePage-4etoHxcO.js"),__vite__mapDeps([18,1,2,3,8,9,10,14,11,12,19])).then(t=>({default:t.AffiliatePage}))),ot=n.lazy(()=>f(()=>import("./ProfilePage-5jtFgcJt.js"),__vite__mapDeps([20,1,2,3])).then(t=>({default:t.ProfilePage}))),ct=n.lazy(()=>f(()=>import("./HelpSupportPage-POO2-BfV.js"),__vite__mapDeps([21,1,2,3])).then(t=>({default:t.HelpSupportPage}))),lt=n.lazy(()=>f(()=>import("./OverviewPage-BBvvzOyb.js"),__vite__mapDeps([22,1,2,3,16,11,12,8,9,10,14])).then(t=>({default:t.OverviewPage}))),dt=n.lazy(()=>f(()=>import("./index-DXIn02yU.js"),__vite__mapDeps([23,1,2,3,11,12,16])).then(t=>({default:t.LoginPage}))),ut=n.lazy(()=>f(()=>import("./index-DXIn02yU.js"),__vite__mapDeps([23,1,2,3,11,12,16])).then(t=>({default:t.RegisterPage}))),mt=n.lazy(()=>f(()=>import("./index-DXIn02yU.js"),__vite__mapDeps([23,1,2,3,11,12,16])).then(t=>({default:t.AuthProcessingPage}))),ht=n.lazy(()=>f(()=>import("./index-DXIn02yU.js"),__vite__mapDeps([23,1,2,3,11,12,16])).then(t=>({default:t.PaymentVerificationPage}))),ft=n.lazy(()=>f(()=>import("./index-DXIn02yU.js"),__vite__mapDeps([23,1,2,3,11,12,16])).then(t=>({default:t.PaymentSuccessPage}))),gt=n.lazy(()=>f(()=>import("./index-DXIn02yU.js"),__vite__mapDeps([23,1,2,3,11,12,16])).then(t=>({default:t.PaymentCancelledPage}))),M="adruby_last_redirect",T="adruby_hold_auth_redirect",xt=1500;function C(t){try{const s=sessionStorage.getItem(M);if(s){const a=JSON.parse(s);if((a==null?void 0:a.path)===t&&Date.now()-(a==null?void 0:a.ts)<xt)return!1}sessionStorage.setItem(M,JSON.stringify({path:t,ts:Date.now()}))}catch{return!0}return!0}const y={landing:"/",features:"/features",pricing:"/pricing",login:"/login",register:"/register","auth-processing":"/auth/callback","payment-verification":"/payment-verification","payment-success":"/payment-success","payment-cancelled":"/payment-cancelled",dashboard:"/dashboard",analytics:"/analytics",adbuilder:"/adbuilder","creative-builder":"/dashboard/creative-builder/new",strategies:"/strategies",campaigns:"/campaigns",aianalysis:"/aianalysis",settings:"/settings",affiliate:"/affiliate",profile:"/profile",help:"/help"},K=new Set(["landing","features","pricing","login","register","auth-processing","payment-verification","payment-success","payment-cancelled"]);function pt(t){return!t||t==="/"?"/":t.replace(/\/+$/,"")}function k(t){const s=pt(t),a=Object.entries(y).find(([,u])=>u===s);return(a==null?void 0:a[0])??"landing"}function E(t){if(!t)return null;try{const s=decodeURIComponent(t);return s.startsWith("/")?s:null}catch{return null}}function O({title:t,subtitle:s}){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background px-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-red-600 flex items-center justify-center",children:e.jsx(V,{className:"w-7 h-7 text-white"})}),e.jsx("span",{className:"font-bold text-2xl",children:"AdRuby"})]}),e.jsx("div",{className:"mb-6 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin"})}),e.jsx("h2",{className:"text-2xl font-bold mb-3",children:t}),s&&e.jsx("p",{className:"text-muted-foreground",children:s})]})})}function bt({title:t,message:s,onRetry:a,onSignOut:u}){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background px-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-red-600 flex items-center justify-center",children:e.jsx(V,{className:"w-7 h-7 text-white"})}),e.jsx("span",{className:"font-bold text-2xl",children:"AdRuby"})]}),e.jsx("h2",{className:"text-2xl font-bold mb-3",children:t}),e.jsx("p",{className:"text-muted-foreground mb-6",children:s}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:a,className:"px-4 py-2.5 bg-primary text-primary-foreground rounded-xl font-semibold",children:"Retry profile load"}),e.jsx("button",{onClick:u,className:"px-4 py-2.5 bg-muted hover:bg-muted/80 rounded-xl font-semibold",children:"Sign out"})]})]})})}const jt=n.lazy(()=>f(()=>import("./AdBuilderPage-C-mHgNEH.js"),__vite__mapDeps([24,1,2,3,11,12,8,9,10,25])).then(t=>({default:t.AdBuilderPage}))),vt=n.lazy(()=>f(()=>import("./CreativeBuilderPage-D0u4b-1o.js"),__vite__mapDeps([26,1,2,3,8,11,12])).then(t=>({default:t.CreativeBuilderPage}))),yt=n.lazy(()=>f(()=>import("./AnalyticsPage-BTI4vbbH.js"),__vite__mapDeps([27,1,2,3,19,11,12,28,29,8,9,10,14,30,16])).then(t=>({default:t.AnalyticsPage}))),wt=n.lazy(()=>f(()=>import("./AIAnalysisPage-Pt-rWc1i.js"),__vite__mapDeps([31,1,2,3,8,9,10,14,11,12,17,16,25,30])).then(t=>({default:t.AIAnalysisPage})));function Pt(){const{user:t,profile:s,billing:a,isAuthReady:u,isLoading:i,profileError:l,authError:h,signInWithGoogle:d,signInWithEmail:N,signUpWithEmail:b,resetPassword:w,signOut:g,refreshProfile:j}=Te(),[r,A]=n.useState(()=>k(window.location.pathname)),[U,X]=n.useState(!0),[I,D]=n.useState(!1),$=U?80:256,[F,Z]=n.useState(()=>window.innerWidth>=768),c=n.useCallback((o,m)=>{const p=y[o],x=new URLSearchParams,_=(m==null?void 0:m.query)||{};for(const[se,R]of Object.entries(_))R==null||R===""||x.set(se,String(R));const q=`${p}${x.toString()?`?${x.toString()}`:""}`;m!=null&&m.replace?window.history.replaceState({},document.title,q):window.history.pushState({},document.title,q),A(o)},[]);n.useEffect(()=>{const o=()=>{A(k(window.location.pathname))};return window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)},[]),n.useEffect(()=>{const o=()=>Z(window.innerWidth>=768);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),n.useEffect(()=>{r==="dashboard"&&localStorage.setItem("hasVisitedDashboard","true")},[r]),n.useEffect(()=>{if(!u||t&&i||t&&s==null||l)return;let o=!1;try{o=sessionStorage.getItem(T)==="1"}catch{o=!1}if(t&&(r==="login"||r==="register"||r==="auth-processing")){if(o&&r==="register")return;const p=new URLSearchParams(window.location.search),x=E(p.get("redirect"))||y.dashboard,_=k(new URL(x,window.location.origin).pathname);!a.isSubscribed&&_!=="settings"?C(y.settings)&&c("settings",{replace:!0,query:{tab:"billing"}}):C(y[_])&&c(_,{replace:!0});return}if(!K.has(r)){if(!t){C(y.login)&&c("login",{replace:!0,query:{redirect:y[r]}});return}!a.isSubscribed&&r!=="settings"&&C(y.settings)&&c("settings",{replace:!0,query:{tab:"billing"}})}},[a.isSubscribed,r,c,u,i,l,t]);const ee=()=>{c("adbuilder")},te=n.useCallback(async o=>{const m=E(o??null)||E(new URLSearchParams(window.location.search).get("redirect"))||y.dashboard;try{await d(m)}catch(p){const x=p instanceof Error?p.message:"Google login failed";S.error(x)}},[d]),re=n.useCallback(()=>{const o=new URLSearchParams(window.location.search),m=E(o.get("redirect"))||y.dashboard,p=k(new URL(m,window.location.origin).pathname);c(p,{replace:!0})},[c]),G=!K.has(r),v=e.jsx(O,{title:"Loading page...",subtitle:"Preparing your workspace"});return!u&&G?e.jsx(O,{title:"Loading session...",subtitle:"Checking your login state"}):t&&i&&G?e.jsx(O,{title:"Loading your account...",subtitle:"Fetching your billing status"}):l&&t?e.jsx(bt,{title:"Profile unavailable",message:l,onRetry:()=>j().catch(()=>{}),onSignOut:()=>g().catch(()=>{})}):e.jsxs("div",{className:"min-h-screen w-full max-w-[100vw] overflow-x-hidden",children:[(r==="landing"||r==="features"||r==="pricing"||r==="login"||r==="register"||r==="auth-processing"||r==="payment-verification"||r==="payment-success"||r==="payment-cancelled")&&e.jsx(n.Suspense,{fallback:v,children:e.jsxs(e.Fragment,{children:[r==="landing"&&e.jsx(et,{onGetStarted:()=>c("register"),onLogin:()=>c("login")}),r==="features"&&e.jsx(tt,{onNavigate:o=>c(o),onSignIn:()=>c("login"),onGetStarted:()=>c("register")}),r==="pricing"&&e.jsx(rt,{onNavigate:o=>c(o),onSignIn:()=>c("login"),onGetStarted:()=>c("register")}),r==="login"&&e.jsx(dt,{authError:h,isAuthReady:u,onGoogleLogin:()=>te(),onEmailLogin:async(o,m)=>{const p=E(new URLSearchParams(window.location.search).get("redirect"))||y.dashboard;try{await N(o,m),c(k(new URL(p,window.location.origin).pathname),{replace:!0})}catch(x){const _=x instanceof Error?x.message:"Login failed";S.error(_)}},onNavigateToRegister:()=>{const o=E(new URLSearchParams(window.location.search).get("redirect"));c("register",{query:{redirect:o||void 0}})},onForgotPassword:async o=>{if(!o){S.info("Enter your email address first");return}try{await w(o),S.success("Password reset email sent")}catch(m){const p=m instanceof Error?m.message:"Failed to send reset email";S.error(p)}}}),r==="register"&&e.jsx(ut,{onGoogleRegister:async()=>{const o=E(new URLSearchParams(window.location.search).get("redirect"))||y.dashboard;try{await d(o)}catch(m){const p=m instanceof Error?m.message:"Google login failed";S.error(p)}},onEmailRegister:async(o,m,p)=>{try{const x=await b(o,m,p);return x==="needs_confirmation"&&S.success("Account created. Please confirm your email, then sign in."),x}catch(x){const _=x instanceof Error?x.message:"Registration failed";throw S.error(_),x}},onNavigateToLogin:()=>{sessionStorage.removeItem(T);const o=E(new URLSearchParams(window.location.search).get("redirect"));c("login",{query:{redirect:o||void 0}})},onProceedToPayment:()=>{sessionStorage.removeItem(T),c("settings",{query:{tab:"billing"}})}}),r==="auth-processing"&&e.jsx(mt,{message:"Logging you in...",onComplete:re}),r==="payment-verification"&&e.jsx(ht,{sessionId:new URLSearchParams(window.location.search).get("session_id")??void 0,onVerificationSuccess:()=>c("payment-success",{replace:!0}),onVerificationError:()=>c("payment-cancelled",{replace:!0}),onGoHome:()=>c("landing",{replace:!0}),onLogout:async()=>{await g().catch(()=>{}),c("login",{replace:!0})}}),r==="payment-success"&&e.jsx(ft,{onGoToDashboard:()=>c("dashboard",{replace:!0})}),r==="payment-cancelled"&&e.jsx(gt,{onRetryCheckout:()=>c("settings",{query:{tab:"billing"}}),onViewPricing:()=>c("pricing"),onGoHome:()=>c("landing")})]})}),r!=="landing"&&r!=="features"&&r!=="pricing"&&r!=="login"&&r!=="register"&&r!=="auth-processing"&&r!=="payment-verification"&&r!=="payment-success"&&r!=="payment-cancelled"&&e.jsxs("div",{className:"flex min-h-screen",style:{background:"var(--background-gradient)"},children:[e.jsx(Fe,{isCollapsed:U,onToggle:X,currentPage:r,onNavigate:o=>{c(o),D(!1)},isMobileOpen:I,onMobileClose:()=>D(!1),onLogout:async()=>{await g().catch(()=>{}),c("landing",{replace:!0})}}),e.jsxs("div",{className:`flex-1 transition-all duration-300 md:ml-0 ${I?"blur-sm pointer-events-none":""}`,style:{marginLeft:F?`${$}px`:"0"},children:[e.jsx(Qe,{sidebarWidth:F?$:0,onToggleMobileSidebar:()=>D(!I),onNavigate:o=>c(o)}),r==="dashboard"&&e.jsx("div",{className:"pt-16 min-h-screen",children:e.jsx(n.Suspense,{fallback:v,children:e.jsx(lt,{onNavigate:(o,m)=>c(o,{query:m})})})}),r==="analytics"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(yt,{})}),e.jsx(P,{})]}),r==="strategies"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(st,{})}),e.jsx(P,{})]}),r==="campaigns"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(at,{})}),e.jsx(P,{})]}),r==="aianalysis"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(wt,{})}),e.jsx(P,{})]}),r==="settings"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(nt,{})}),e.jsx(P,{})]}),r==="affiliate"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(it,{})}),e.jsx(P,{})]}),r==="profile"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(ot,{})}),e.jsx(P,{})]}),r==="help"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(ct,{})}),e.jsx(P,{})]}),r==="adbuilder"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(jt,{})}),e.jsx(P,{})]}),r==="creative-builder"&&e.jsxs("div",{className:"pt-16 min-h-screen",children:[e.jsx(n.Suspense,{fallback:v,children:e.jsx(vt,{})}),e.jsx(P,{})]}),r==="dashboard"&&e.jsx(Xe,{onCreateCampaign:ee})]})]})]})}function _t(){return e.jsx(He,{children:e.jsxs(ze,{children:[e.jsx(Ze,{}),e.jsx(Pt,{})]})})}Ie.createRoot(document.getElementById("root")).render(e.jsx(De.StrictMode,{children:e.jsx(_t,{})}));export{f as _,We as u};
