import{j as e}from"./vendor-react-BtVdps6C.js";import{R as l,L as c,C as x,X as m,T as h,c as b}from"./vendor-charts-KPNNdnYR.js";import"./vendor-Cwcl6ryW.js";import"./vendor-radix-BA32w1ww.js";function n(t,s){const a=new Date(t);return s==="today"?a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):a.toLocaleDateString([],{month:"short",day:"numeric"})}function j({points:t,range:s,loading:a,error:i}){if(a)return e.jsxs("div",{className:"rounded-2xl bg-card/70 border border-border/50 p-6 shadow-[0_1px_0_rgba(255,255,255,0.5),0_12px_30px_rgba(0,0,0,0.06)]",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-5 w-24 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-4 w-36 bg-muted animate-pulse rounded"})]})}),e.jsx("div",{className:"h-40 bg-muted animate-pulse rounded"})]});if(i)return e.jsxs("div",{className:"rounded-2xl bg-card/70 border border-border/50 p-6 shadow-[0_1px_0_rgba(255,255,255,0.5),0_12px_30px_rgba(0,0,0,0.06)]",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold tracking-tight text-foreground",children:"ROAS Trend"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quick signal, not deep analytics"})]})}),e.jsx("div",{className:"h-40 flex items-center justify-center",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Failed: ",i]})})]});if(!t||t.length===0)return e.jsxs("div",{className:"rounded-2xl bg-card/70 border border-border/50 p-6 shadow-[0_1px_0_rgba(255,255,255,0.5),0_12px_30px_rgba(0,0,0,0.06)]",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold tracking-tight text-foreground",children:"ROAS Trend"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quick signal, not deep analytics"})]})}),e.jsx("div",{className:"h-40 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"No data"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect Meta account"})]})})]});const o=t.reduce((r,d)=>r+d.roas,0)/t.length||0;return e.jsxs("div",{className:"rounded-2xl bg-card/70 backdrop-blur border border-border/50 p-6 shadow-[0_1px_0_rgba(255,255,255,0.5),0_12px_30px_rgba(0,0,0,0.06)] hover:shadow-[0_1px_0_rgba(255,255,255,0.6),0_18px_50px_rgba(0,0,0,0.10)] transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold tracking-tight text-foreground",children:"ROAS Trend"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quick signal, not deep analytics"})]}),e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs bg-primary/10 text-primary border border-primary/15 font-medium whitespace-nowrap",children:["Avg ",o.toFixed(1),"x"]})]}),e.jsx("div",{className:"h-40",children:e.jsx(l,{width:"100%",height:"100%",children:e.jsxs(c,{data:t,margin:{top:5,right:5,left:0,bottom:0},children:[e.jsx(x,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3,vertical:!1}),e.jsx(m,{dataKey:"ts",tickFormatter:r=>n(r,s),tickLine:!1,axisLine:!1,tick:{fill:"hsl(var(--muted-foreground))"},style:{fontSize:"11px"},minTickGap:30}),e.jsx(h,{formatter:r=>{const d=Array.isArray(r)?r[0]:r;return[`${Number(d??0).toFixed(2)}x`,"ROAS"]},labelFormatter:r=>n(r,s),contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),e.jsx(b,{type:"monotone",dataKey:"roas",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6",r:3},activeDot:{r:5}})]})})})]})}export{j as RoasMiniChart};
